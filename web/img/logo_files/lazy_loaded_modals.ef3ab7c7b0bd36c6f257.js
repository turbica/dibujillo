/*! Copyright (c) 2020 WhatsApp Inc. All Rights Reserved. */
webpackJsonp([130],{babicefcfg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sendSetGroupSubject=function(e,t){var n=void 0;if(o.default.supportsFeature(o.default.F.MD_BACKEND))return Promise.reject(new Error("sendSetGroupSubject: not supported when not build with MD_BACKEND"));n=i.default.changeSubject(e,t).then(function(e){return 200!==e.status?Promise.reject(new r.ServerStatusCodeError(e.status)):{_duplicate:e._duplicate}});return n},t.sendSetGroupDescription=function(e,t,n,a){var l=void 0;if(o.default.supportsFeature(o.default.F.MD_BACKEND))return Promise.reject(new Error("sendSetGroupDescription: not supported when not build with MD_BACKEND"));l=i.default.setGroupDescription(e,t,n,a).then(function(e){return 200!==e.status?Promise.reject(new r.ServerStatusCodeError(e.status)):{_duplicate:e._duplicate}});return l},t.sendSetGroupProperty=function(e,t,n){var l=void 0;if(o.default.supportsFeature(o.default.F.MD_BACKEND))return Promise.reject(new Error("sendSetGroupProperty: not supported when not build with MD_BACKEND"));l=(l=t===a.default.GROUP_SETTING_TYPE.EPHEMERAL?i.default.setGroupEphemeralDuration(e,n):i.default.setGroupProperty(e,t,Boolean(n))).then(function(e){return 200!==e.status?Promise.reject(new r.ServerStatusCodeError(e.status)):{_duplicate:e._duplicate}});return l};var a=l(n("baagejbchg")),r=n("ddjgcfjicj"),o=l(n("bjbdcigbdi")),i=l(n("bihdhbjih"));function l(e){return e&&e.__esModule?e:{default:e}}},bbgbbhfdaj:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dayToWeekday=c,t.businessHoursFromConfig=u,t.getWebsiteLink=function(e){return`https://l.wl.co/l?u=${encodeURIComponent(e)}`},t.getBusinessHours=function(e){var t=e.config,n=(new Date).getDay();return r.DAYS_OF_WEEK.map(function(e,a){var o=(n+a)%r.DAYS_OF_WEEK.length,i=r.DAYS_OF_WEEK[o],l=c(o),s=u(t[i]);return{day:l,hours:s,first:0===a}})};var a=i(n("dgdjiicfdg")),r=n("bechdajic"),o=i(n("cfadcbbiie"));function i(e){return e&&e.__esModule?e:{default:e}}function l(e){return a.default.utc().startOf("day").add(e,"minutes").format(o.default.timestampStrFormat())}function c(e){return a.default.weekdays(e)}function u(e){switch(e&&e.mode){case r.BUSINESS_HOUR_MODES.SPECIFIC_HOURS:return e.hours?e.hours.map(function(e){return e.map(l).join(" - ")}).join("\n"):"";case r.BUSINESS_HOUR_MODES.APPOINTMENT_ONLY:return l10n.t(224);case r.BUSINESS_HOUR_MODES.OPEN_24H:return l10n.t(226);default:return l10n.t(225)}}},bbhjjecbjb:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BusinessProfile=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=C(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=C(n("dgjggjiggi")),l=C(n("jgjiiajej")),c=C(n("bbchdeehff")),u=n("baagejbchg"),s=C(n("cabhjigfgc")),d=C(n("fijafegab")),f=C(n("fifhbjiec")),p=C(n("bidfjbaebi")),h=C(n("bjbdcigbdi")),m=C(n("djhbegbdaf")),b=C(n("fffdgbfji")),g=C(n("behbcejhad")),v=n("igiffibee"),E=C(n("bfbggcdbfb")),y=n("bbgbbhfdaj"),_=C(n("becfabjeeg")),j=C(n("ihfccfgdf")),M=C(n("bfdcadbbif"));function C(e){return e&&e.__esModule?e:{default:e}}function S(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var P=t.BusinessProfile=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,l=Array(r),u=0;u<r;u++)l[u]=arguments[u];return n=a=S(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.state={collapsedHours:!0},a.onBusinessHoursClick=function(){a.setState({collapsedHours:!a.state.collapsedHours})},a.onBusinessInfoClick=function(){c.default.openModal(o.createElement(i.default,{contact:a.props.contact}))},S(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.PureComponent),a(t,[{key:"componentDidMount",value:function(){new E.default.ViewBusinessProfile({viewBusinessProfileAction:E.default.VIEW_BUSINESS_PROFILE_ACTION.ACTION_IMPRESSION,businessProfileJid:this.props.contact.id.toString()}).commit()}},{key:"getBusinessInfoTitle",value:function(){var e=this.props.contact,t=!e.name||e.name===e.verifiedName,n="psa-unverified",a=void 0;switch(e.verifiedLevel){case u.VERIFIED_LEVEL.HIGH:n="psa-verified",t?a=o.createElement(f.default,{className:l.default.verifiedLabel,text:b.default.t(237)}):(a=o.createElement(f.default,{className:l.default.verifiedLabel,text:b.default.t(235)}),a=o.createElement(m.default,{id:236,params:{verified:a,businessName:e.verifiedName}}));break;case u.VERIFIED_LEVEL.LOW:a=t?o.createElement(f.default,{text:b.default.t(233)}):b.default.t(232,{businessName:e.verifiedName});break;case u.VERIFIED_LEVEL.UNKNOWN:a=b.default.t(231)}return o.createElement(w,{icon:n,className:l.default.businessMarker,onClick:this.onBusinessInfoClick},a)}},{key:"getBusinessInfoTitleV2",value:function(){var e=void 0;switch(this.props.contact.verifiedLevel){case u.VERIFIED_LEVEL.HIGH:e=b.default.t(234);break;case u.VERIFIED_LEVEL.LOW:case u.VERIFIED_LEVEL.UNKNOWN:e=b.default.t(231)}return o.createElement(s.default,{a8nText:"business-title",className:l.default.businessTitleText,onClick:this.onBusinessInfoClick},e)}},{key:"getBusinessHours",value:function(e){var t=this,n=(0,y.getBusinessHours)(e).map(function(e,n){var a=e.day,r=e.hours,i=e.first;return!i&&t.state.collapsedHours?null:o.createElement(O,{day:a,key:a,hours:r,first:i,collapsed:t.state.collapsedHours})});return o.createElement(w,{icon:"business-hours",onClick:this.onBusinessHoursClick},n)}},{key:"getAddressString",value:function(e){var t=e.streetAddress,n=e.localizedCityName,a=e.zipCode;return t&&n&&a?b.default.t(230,{streetAddress:t,city:n,zipCode:a}):t&&n?b.default.t(229,{streetAddress:t,city:n}):t}},{key:"getAddress",value:function(e,t,n,a){var r=a?this.getAddressString(a):null,i=void 0,c=void 0;if(null!=t&&null!=n){var u={height:150},s=r||e;i=o.createElement("div",{style:u,className:l.default.businessMap},o.createElement(g.default,{lat:t,lng:n,name:s,width:565,height:150}))}if(r){var d=void 0;d=null!=t&&null!=n?(0,v.getMapUrl)(t,n,r):(0,v.getSearchUrl)(r),c=o.createElement("div",{className:l.default.address},o.createElement(p.default,{href:d},o.createElement(f.default,{selectable:!0,direction:"auto",text:r})))}return c||i?o.createElement(w,{icon:"business-address"},c,i):null}},{key:"render",value:function(){var e=void 0;e=h.default.supportsFeature(h.default.F.VNAME_V_2)?this.getBusinessInfoTitleV2():this.getBusinessInfoTitle();var t=void 0,n=void 0,a=void 0,r=void 0,i=void 0,c=void 0,u=void 0,s=this.props.businessProfile;if(s.stale)t=o.createElement("div",{className:l.default.contactBusinessInfoSpinner},o.createElement(_.default,{size:20,stroke:5}));else if(n=s.categories&&s.categories.length?o.createElement(w,{icon:"business-category"},o.createElement(f.default,{selectable:!0,direction:"auto",text:s.categories.map(function(e){return e.localized_display_name}).join(b.default.t(421))})):null,a=s.description?o.createElement(w,{icon:"business-description"},o.createElement(f.default,{selectable:!0,direction:"auto",text:s.description})):null,r=this.getAddress(this.props.contact.name,s.latitude,s.longitude,s.structuredAddress),s.website&&Array.isArray(s.website)&&s.website.length&&(i=s.website.map(function(e,t){var n=(0,y.getWebsiteLink)(e),a=o.createElement(f.default,{selectable:!0,direction:"auto",text:e}),r=o.createElement(p.default,{className:l.default.link,href:n},a);return o.createElement(w,{icon:"business-website",key:t},r)})),s.businessHours&&(c=this.getBusinessHours(s.businessHours)),s.email){var m=o.createElement(f.default,{selectable:!0,direction:"auto",text:s.email}),g=o.createElement(p.default,{className:l.default.link,href:`mailto:${s.email}`},m);u=o.createElement(w,{icon:"business-email",dir:"auto"},g)}var v=void 0;return(t||null!=r||n||a||null!=c||u||i)&&(v=o.createElement(d.default,{theme:"padding"},o.createElement("div",{className:l.default.contactBusinessInfo},t,r,n,a,c,u,i))),o.createElement(o.Fragment,null,o.createElement(d.default,null,e),v)}}]),t}();P.CONCERNS={contact:["id","verifiedLevel","name","verifiedName"],businessProfile:["description","categories","website","email","stale","latitude","longitude","businessHours","structuredAddress"]},P.displayName="BusinessProfile";var O=function(e){var t=e.first?o.createElement("div",{className:l.default.businessHoursChevron,role:"button"},o.createElement(M.default,{className:e.collapsed?"":l.default.flipSvg,display:"inline",name:"chevron-down-alt"})):null;return o.createElement("div",{className:l.default.businessHoursRow},o.createElement("div",{className:l.default.businessHoursDay},o.createElement(f.default,{direction:"auto",text:e.day})),o.createElement("div",{className:l.default.businessHoursHours},o.createElement(f.default,{direction:"auto",text:e.hours})),t)};O.displayName="BusinessHoursRow";var w=function(e){return o.createElement("div",{className:(0,r.default)(l.default.dataRow,e.className),onClick:e.onClick},o.createElement("div",{className:l.default.dataRowIcon},o.createElement(M.default,{name:e.icon})),o.createElement("div",{className:l.default.dataRowText},e.children))};w.displayName="DataRow",t.default=(0,j.default)(P,P.CONCERNS)},bfffgbbdch:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=p(n("effbcehec")),i=p(n("dacdidjdfi")),l=p(n("bbchdeehff")),c=p(n("biddiiafgd")),u=p(n("gejdcbjjd")),s=p(n("ihfccfgdf")),d=n("bheafeifce"),f=p(n("eedjbihej"));function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,i=Array(o),u=0;u<o;u++)i[u]=arguments[u];return n=a=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),a.onMute=function(e){l.default.muteChat((0,d.unproxy)(a.props.chat),e)},a.onUnmute=function(){var e=a.props.chat.isGroup?l10n.t(344):l10n.t(343);l.default.openModal(r.createElement(c.default,{onOK:a.unmute,okText:l10n.t(40),onCancel:function(){return l.default.closeModal()},cancelText:l10n.t(1156)},e))},a.unmute=function(){a.onMute(!1),l.default.closeModal()},h(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.PureComponent),a(t,[{key:"render",value:function(){var e=this,t=this.props.mute.isMuted,n=t?this.onUnmute:function(){e.onMute(!0)},a=r.createElement(i.default,{checked:t,onChange:n}),l=t?l10n.t(1159):l10n.t(1266);return r.createElement(u.default,{a8nText:o.default.key("block-mute"),side:a,onClick:n},r.createElement(f.default,{theme:"title"},l))}}]),t}();m.CONCERNS={chat:["isGroup"],mute:["isMuted"]},m.displayName="MuteRow",t.default=(0,s.default)(m,m.CONCERNS)},bfhjgejice:function(e,t){e.exports={body:"_3s5Z_",avatar:"_2vJOg",nameSecondary:"_2IwIk",screenName:"_2he9-",businessVname:"_1WLhk",icon:"lBve6",titleAbout:"_2k1Z5"}},bfigfbdgha:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=p(n("cfadcbbiie")),i=p(n("bbchdeehff")),l=p(n("baagejbchg")),c=p(n("biddiiafgd")),u=p(n("bhdigcjfbj")),s=p(n("fffdgbfji")),d=n("ceiehehagg"),f=p(n("ihfccfgdf"));function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getInitialSelection=function(){var e=n.props,t=e.settingType,a=e.groupMetadata,r=a.restrict,o=a.announce,i=a.noFrequentlyForwarded,c=a.ephemeralDuration;switch(t){case l.default.GROUP_SETTING_TYPE.ANNOUNCEMENT:return o?1:0;case l.default.GROUP_SETTING_TYPE.RESTRICT:return r?1:0;case l.default.GROUP_SETTING_TYPE.NO_FREQUENTLY_FORWARDED:return i?1:0;case l.default.GROUP_SETTING_TYPE.EPHEMERAL:return c||0;default:return 0}},n.onConfirm=function(){var e=n.props,t=e.chat,a=e.settingType;n.state.activeOption!==n.getInitialSelection()&&(0,d.setGroupProperty)(t,a,n.state.activeOption).catch(function(e){return function(){}}),i.default.closeModal()},n.getPopupTitle=function(){switch(n.props.settingType){case l.default.GROUP_SETTING_TYPE.ANNOUNCEMENT:return s.default.t(548);case l.default.GROUP_SETTING_TYPE.RESTRICT:return s.default.t(542);case l.default.GROUP_SETTING_TYPE.NO_FREQUENTLY_FORWARDED:return s.default.t(545);case l.default.GROUP_SETTING_TYPE.EPHEMERAL:return s.default.t(543);default:return""}},n.onChange=function(e){var t=e.target;t instanceof HTMLInputElement&&n.setState({activeOption:parseInt(t.value,10)})},n.state={activeOption:n.getInitialSelection()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.PureComponent),a(t,[{key:"closeModal",value:function(){i.default.closeModal()}},{key:"render",value:function(){var e=this,t=this.state.activeOption,n=(this.props.settingType===l.default.GROUP_SETTING_TYPE.EPHEMERAL?Object.keys(l.default.EPHEMERAL_SETTINGS).map(function(e){var t=l.default.EPHEMERAL_SETTINGS[e];return{label:o.default.ephemeralDurationStr(t),value:t}}):this.props.settingType===l.default.GROUP_SETTING_TYPE.NO_FREQUENTLY_FORWARDED?[{label:s.default.t(544),value:0},{label:s.default.t(546),value:1}]:[{label:s.default.t(540),value:0},{label:s.default.t(547),value:1}]).map(function(n,a){return r.createElement("li",{key:`setting-${a}`},r.createElement("label",{className:u.default.label},r.createElement("input",{type:"radio",className:u.default.input,value:n.value,checked:n.value===t,onChange:e.onChange}),n.label))});return r.createElement(c.default,{title:this.getPopupTitle(),okText:s.default.t(541),onOK:this.onConfirm,onCancel:this.closeModal},r.createElement("form",null,r.createElement("ol",null,n)))}}]),t}();h.CONCERNS={chat:["id"],groupMetadata:["restrict","announce","noFrequentlyForwarded","ephemeralDuration"]},h.displayName="GroupAdminSettingPopup",t.default=(0,f.default)(h,h.CONCERNS)},bhdigcjfbj:function(e,t){e.exports={label:"lLIkM",input:"_19y4J"}},bhfgibecci:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=N(n("cbjgbhbhcj")),i=N(n("dbdfbgehgj")),l=N(n("cfadcbbiie")),c=N(n("bbchdeehff")),u=N(n("bjigbaghc")),s=N(n("hdccjfbbg")),d=N(n("dhigahgdjb")),f=N(n("dhhfaeacef")),p=N(n("djcchigfih")),h=N(n("djbhiedbef")),m=N(n("cabhjigfgc")),b=n("dajffajabh"),g=N(b),v=N(n("fijafegab")),E=N(n("bbhhbdicgc")),y=N(n("bggeiidigb")),_=N(n("bjbdcigbdi")),j=N(n("jheedhagg")),M=N(n("eceadcicaf")),C=N(n("bfajcggcdf")),S=N(n("ihfccfgdf")),P=n("bheafeifce"),O=N(n("bfdcadbbif")),w=N(n("eedjbihej")),k=N(n("jccfhaecf"));function N(e){return e&&e.__esModule?e:{default:e}}function T(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var R=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,l=Array(o),f=0;f<o;f++)l[f]=arguments[f];return n=a=T(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.flatListController=new y.default,a.onParticipantClick=function(e,t){k.default.equals(u.default.me,t.id)||i.default.find(t.id).then(function(e){c.default.openChatFromUnread(e).then(function(t){t&&c.default.focusChatTextInput(e)})})},a.onClose=function(){a.props.onClose?a.props.onClose():a.props.uim.uie.requestDismiss()},a.onDelete=function(){c.default.deleteOrExitChat((0,P.unproxy)(a.props.chat))},a.renderItem=function(e){var t=e.participant,n=d.default.gadd(t.id);return r.createElement(s.default,{contact:n,theme:"drawer-list",admin:!!t.isAdmin,onClick:a.onParticipantClick,key:t.id.toString(),waitIdle:!0})},T(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),a(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.chat.groupMetadata;this.props.listeners.add(t.participants,"add remove sort reset",function(){e.forceUpdate()})}},{key:"getData",value:function(){return this.props.chat.groupMetadata.participants.map(function(e){return{itemKey:e.id.toString(),participant:e}})}},{key:"render",value:function(){var e=this.props.chat,t=null;if(this.props.onMediaGallery){var n=r.createElement(O.default,{name:"chevron-right-alt",directional:!0}),a=_.default.supportsFeature(_.default.F.LINK_DOC_GALLERY)?l10n.t(688):l10n.t(682);t=r.createElement(v.default,{title:a,titleOnClick:this.props.onMediaGallery||function(){},subtitle:n,theme:"padding"},r.createElement(C.default,{chat:(0,P.unproxy)(e),mediaMsgs:e.getMediaMsgs()}))}var i=this.props.chat.groupMetadata.participants,c=r.createElement(w.default,{theme:"section-title"},l10n.n(i.length)),u=i.length?r.createElement(v.default,{title:l10n.t(1347),subtitle:c},r.createElement(E.default,{flatListController:this.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:this.getData(),renderItem:this.renderItem})):null,s=r.createElement(v.default,null,r.createElement(m.default,{a8nText:"li-delete-broadcast",icon:r.createElement(O.default,{name:"delete-danger"}),color:"danger",theme:"list-aligned",onClick:this.onDelete},l10n.t(1192))),d=void 0;e.groupMetadata.creation?(d=l.default.timeStr(e.groupMetadata.creation),d=r.createElement(w.default,{theme:"small",block:!0},l10n.t(1211,{when:d}))):d=null;var y=null;return r.createElement(p.default,{key:"contact-info-modal"},r.createElement(g.default,{type:b.DRAWER_HEADER_TYPE.SMALL,onCancel:this.onClose},r.createElement(w.default,{theme:"title",block:!0},l10n.t(222)),d),r.createElement(h.default,{flatListControllers:[this.flatListController]},r.createElement("div",{className:o.default.body},r.createElement("div",{className:o.default.photo},r.createElement(f.default,{id:e.id,size:f.default.Size.LARGE})),t,y,u,s)))}}]),t}();R.CONCERNS={chat:["id","groupMetadata"]},R.displayName="BroadcastInfoDrawer",t.default=(0,j.default)((0,M.default)((0,S.default)(R,R.CONCERNS)))},bhghbagiah:function(e,t,n){"use strict";var a=f(n("hhegggegb")),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=f(n("bbchdeehff")),l=f(n("dgihdjihd")),c=n("cicgeajfge"),u=f(n("eceadcicaf")),s=f(n("becfabjeeg")),d=f(n("iibcehaia"));function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=n("baagejbchg"),m=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return n=r=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.onScroll=function(e){r.handleScroll(e.target)},r.handleScroll=(0,a.default)(function(e){var t=r.props.docMsgs;t.hasDocBefore&&e.scrollTop+h.SCROLL_FUDGE>e.scrollHeight-e.clientHeight&&r.queryDocs(t.head())},100),r.onClickMsg=function(e,t){r.props.selectable&&void 0!==t?r.props.onMessageSelect(e,t):i.default.openChatAt(e.chat,e.chat.getSearchContext(e))},p(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"componentDidMount",value:function(){var e=this;this.props.docMsgs.hasDocBefore&&this.queryDocs(),this.props.listeners.add(this.props.docMsgs,"add remove reset",function(){e.forceUpdate()}),this.props.listeners.add(this.props.docMsgs,"query_doc_before",function(){e.forceUpdate()})}},{key:"componentWillUnmount",value:function(){this.handleScroll.cancel()}},{key:"queryDocs",value:function(e){var t=this,n=this.props.docMsgs;n.hasDocBefore&&this.props.listeners.uiIdle(function(){n.queryDocs(t.props.chat,e)})}},{key:"render",value:function(){var e=this,t=this.props,n=t.docMsgs,a=t.selectedMessages,r=n.map(function(t){return o.createElement(d.default,{key:t.id.toString(),msg:t,displayType:h.DISP_TYPE.GALLERY,selectable:e.props.selectable,selectedMessages:a,onMessageSelect:e.props.onMessageSelect,onClickMsg:e.onClickMsg})});if(r.reverse(),n.queryDocBefore){if(0===r.length)return o.createElement(c.Loading,null);r.push(o.createElement("div",{className:l.default.spinner,key:"spinner"},o.createElement(s.default,{stroke:6,size:24})))}return 0!==n.length||n.queryDocBefore||n.hasDocBefore?o.createElement("div",{onScroll:this.onScroll,className:l.default.docGallery},r):o.createElement(c.DocMsgs,null)}}]),t}();m.displayName="DocGallery",e.exports=(0,u.default)(m)},bifbiahgch:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=v(n("bhfgibecci")),i=v(n("hfjchijff")),l=v(n("cefehjcibf")),c=v(n("bcbahjefec")),u=v(n("dabdhgiijc")),s=v(n("chjdbchg")),d=v(n("dcabggiiff")),f=n("cafajifcca"),p=n("bgjddhffji"),h=v(n("dcdageegba")),m=v(n("bggcifcgdc")),b=v(n("djicifaabb")),g=v(n("ceibefacih"));function v(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,l=Array(o),c=0;c<o;c++)l[c]=arguments[c];return n=a=E(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),a.onProductDetail=function(e,t){var n=a.props.chat,o=r.createElement(m.default,{chat:n,product:e,onEnd:a._end,onBack:a._pop,refreshCarousel:!1,sessionId:t});a.push(o)},a.onProductCatalog=function(e){var t=a.props.chat;(0,p.logCarouselViewMoreClick)(t.id.toString(),e);var n=r.createElement(b.default,{contact:t.contact,onProductDetail:a.onProductDetail,catalogId:t.id,onBack:a._pop,sessionId:e,businessProfile:t.contact.businessProfile});a.push(n)},a.onStarred=function(){var e=r.createElement(g.default,{chat:a.props.chat,starredMsgs:a.props.chat.getStarredMsgs(),onClose:a._pop});a.push(e)},a.onAdminSetting=function(){var e=a.props.chat,t=r.createElement(d.default,{chat:e,groupMetadata:e.groupMetadata,onClose:a._pop});a.push(t)},a.onContactCard=function(){a.push(r.createElement(i.default,{chat:a.props.chat,onClose:a._pop}))},a.onMediaGallery=function(){var e=r.createElement(h.default,{chat:a.props.chat,onBack:a._pop});a.push(e)},a.onGroupInviteLink=function(){var e=a.props.chat,t=r.createElement(s.default,{chat:a.props.chat,groupMetadata:e.groupMetadata,onBack:a._pop});a.push(t)},a._pop=function(){a.pop()},a._end=function(){a.end(!0)},a.onLiveLocation=function(){var e=r.createElement(f.LiveLocationDrawerLoadable,{chat:a.props.chat,onClose:a._pop});a.push(e)},E(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default),a(t,[{key:"componentDidMount",value:function(){var e=this.onStarred,t=this.onMediaGallery,n=this.props.chat;this.props.chat.isGroup?this.push(r.createElement(u.default,{chat:n,showFullGroupDescription:this.props.showFullGroupDescription,groupMetadata:n.groupMetadata,contact:n.contact,profilePicThumb:n.contact.getProfilePicThumb(),onStarred:e,onMediaGallery:t,onAdminSetting:this.onAdminSetting,onGroupInviteLink:this.onGroupInviteLink,onLiveLocation:this.onLiveLocation,onClose:this._pop})):n.isBroadcast?this.push(r.createElement(o.default,{chat:n,contact:n.contact,onStarred:e,onMediaGallery:t,onClose:this._pop})):n.isUser&&this.push(r.createElement(l.default,{contact:n.contact,onStarred:e,onContactCard:this.onContactCard,onMediaGallery:t,onProductCatalog:this.onProductCatalog,onProductDetail:this.onProductDetail,onLiveLocation:this.onLiveLocation,onClose:this._pop}))}}]),t}();t.default=y},biiiigbhdf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setGroupSubject=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function e(t,n){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,r.genId)();var f=n.trim();if(!f)return Promise.reject(new l.ActionError);if(f===t.contact.name)return Promise.reject(new l.ActionError);var p=(0,u.sendSetGroupSubject)(t.id,f);var h=t.contact.name;var m=new r.ActionType(l10n.t(80));var b=p.then(function(){return new r.ActionType(l10n.t(79,{subject:f}),l10n.t(158),function(){return e(t,h,s)})}).catch(i.ServerStatusCodeError,function(e){if(e.status>=400)return new r.ActionType(l10n.t(78))}).catch(function(n){return c.default.error("models:chat:setSubject dropped")(n),new r.ActionType(l10n.t(78),l10n.t(154),function(){return e(t,f,s)})});o.default.openToast(a.createElement(r.ActionToast,{id:s,initialAction:m,pendingAction:b}));return p.then(function(e){if(!e._duplicate){var n={name:f};return(0,d.updateLocal)(t.contact.id,n).then(function(){t.contact.set(n)})}}).catch(i.ServerStatusCodeError,function(e){})}((0,s.unproxy)(e),t)};var a=p(n("ddhijeejag")),r=n("ccihhdchab"),o=f(n("bbchdeehff")),i=n("ddjgcfjicj"),l=p(n("cajijabhgb")),c=f(n("bdiiahhjbe")),u=n("babicefcfg"),s=n("bheafeifce"),d=n("dcjbdhhjge");function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}},bjjbghfcbd:function(e,t){e.exports={msg:"_2jwrE",text:"_3avGD",bubble:"_1jnqn",author:"_3qTO9",hasSuspiciousLinks:"_2dH21",hasAuthor:"_1SCY2",suspiciousLabel:"VcunG"}},cbdbejjhjd:function(e,t,n){"use strict";var a=m(n("hhegggegb")),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=m(n("bbchdeehff")),l=m(n("baagejbchg")),c=n("cicgeajfge"),u=m(n("jfaihhdjc")),s=m(n("deaaffdfff")),d=m(n("eceadcicaf")),f=m(n("becfabjeeg")),p=m(n("iibcehaia")),h=n("bheafeifce");function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,c=Array(o),u=0;u<o;u++)c[u]=arguments[u];return n=r=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),r.onNewMsgs=function(e){if(e){var t=[],n=Array.isArray(e)?e:[e];Promise.all(n.map(function(e){return e.getLinks().length&&t.push(e),Promise.resolve()})).then(function(){t.length&&r.props.linkMsgs.add(t)})}},r.onScroll=function(e){r.handleScroll(e.target)},r.handleScroll=(0,a.default)(function(e){var t=r.props.linkMsgs;t.hasLinkBefore&&e.scrollTop+l.default.SCROLL_FUDGE>e.scrollHeight-e.clientHeight&&r.queryLinks(t.head())},100),r.onClickMsg=function(e,t){var n=(0,h.unproxy)(e);r.props.selectable&&void 0!==t?r.props.onMessageSelect(n,t):i.default.openChatAt(n.chat,n.chat.getSearchContext(n))},b(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"componentDidMount",value:function(){var e=this;this.props.linkMsgs.hasLinkBefore&&this.queryLinks(),this.props.listeners.add(this.props.linkMsgs,"add remove reset",function(){e.forceUpdate()}),this.props.listeners.add(this.props.linkMsgs,"query_link_before",function(){e.forceUpdate()}),this.props.listeners.add(this.props.chat.msgs,"add bulk_add",this.onNewMsgs)}},{key:"componentWillUnmount",value:function(){this.handleScroll.cancel()}},{key:"queryLinks",value:function(e){var t=this,n=this.props.linkMsgs;n.hasLinkBefore&&this.props.listeners.uiIdle(function(){n.queryLinks(t.props.chat,e)})}},{key:"render",value:function(){var e=this,t=this.props,n=t.linkMsgs,a=t.selectedMessages,r=[];if(n.forEach(function(t){var n=!t.isSentByMe&&t.isGroupMsg;t.getGalleryLinks().forEach(function(i,l){i.href!==t.matchedText&&r.push(o.createElement(s.default,{key:`${t.id.toString()}-${l}`,msg:t,link:i,displayAuthor:n,selectable:e.props.selectable,selectedMessages:a,onMessageSelect:e.props.onMessageSelect,onClickMsg:e.onClickMsg}))}),t.linkPreview&&r.push(o.createElement(p.default,{key:t.id.toString(),msg:t,selectable:e.props.selectable,selectedMessages:a,onMessageSelect:e.props.onMessageSelect,displayType:l.default.DISP_TYPE.GALLERY,onClickMsg:e.onClickMsg}))}),r.reverse(),n.queryLinkBefore){if(0===r.length)return o.createElement(c.Loading,null);r.push(o.createElement("div",{className:u.default.spinner,key:"spinner"},o.createElement(f.default,{stroke:6,size:24})))}return 0!==n.length||n.queryLinkBefore||n.hasLinkBefore?o.createElement("div",{onScroll:this.onScroll,className:u.default.wrapper},r):o.createElement(c.LinkMsgs,null)}}]),t}();g.displayName="LinkGallery",e.exports=(0,d.default)(g)},cbjgbhbhcj:function(e,t){e.exports={body:"_2f4K6",photo:"_1QnNL"}},ceeafeafie:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=v(n("dhbceejbjg")),i=n("iaibjaeb"),l=v(i),c=v(n("bbchdeehff")),u=v(n("baagejbchg")),s=v(n("fijafegab")),d=n("hbhjdibhf"),f=v(n("bbhhbdicgc")),p=v(n("eceadcicaf")),h=v(n("fdcfhecbj")),m=v(n("ihfccfgdf")),b=v(n("bfdcadbbif")),g=v(n("eedjbihej"));function v(e){return e&&e.__esModule?e:{default:e}}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var y=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,u=Array(o),s=0;s<o;s++)u[s]=arguments[s];return n=a=E(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),a.commonGroupInitialized=!1,a.state={collapsed:!1,numGroups:0},a.rerender=function(){a.forceUpdate()},a.onClick=function(e,t){c.default.openChatFromUnread(t).then(function(e){e&&c.default.focusChatTextInput(t)}),a.props.onClose()},a.onShowMore=function(){a.setState({collapsed:!1})},a.renderItem=function(e){var t=e.chat;return r.createElement(l.default,{chat:t,theme:"drawer-list",contact:t.contact,mode:i.Mode.INFO,onClick:a.onClick,key:t.id.toString()})},E(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),a(t,[{key:"componentDidMount",value:function(){var e=this.props.contact.commonGroups;e&&(this.props.listeners.add(e,"add remove",this.rerender),this.commonGroupInitialized=!0),(0,d.findCommonGroups)(this.props.contact)}},{key:"componentDidUpdate",value:function(e){if(e.contact!==this.props.contact){var t=e.contact.commonGroups;t&&e.listeners.remove(t,"add remove",this.rerender),this.commonGroupInitialized=!1}var n=this.props.contact.commonGroups;n&&(this.commonGroupInitialized||(this.props.listeners.add(n,"add remove",this.rerender),this.commonGroupInitialized=!0))}},{key:"componentWillUnmount",value:function(){var e=this.props.contact.commonGroups;e&&this.commonGroupInitialized&&(this.props.listeners.remove(e,"add remove",this.rerender),this.commonGroupInitialized=!1)}},{key:"getData",value:function(){var e=this.props.contact.commonGroups;return e.length>u.default.INFO_DRAWER_MAX_ROWS&&this.state.collapsed&&(e=e.slice(0,u.default.INFO_DRAWER_MAX_ROWS)),e.map(function(e){return{itemKey:e.id.toString(),chat:e}})}},{key:"render",value:function(){var e=this.props.contact.commonGroups;if(!e||!e.length)return null;var t=r.createElement(g.default,{theme:"section-title"},l10n.n(e.length)),n=void 0;if(e.length>u.default.INFO_DRAWER_MAX_ROWS&&this.state.collapsed){var a=e.length-u.default.INFO_DRAWER_MAX_ROWS,i=r.createElement(h.default,{theme:"transparent"},r.createElement(b.default,{name:"down",directional:!0}));n=r.createElement(o.default,{image:i,theme:"drawer-list",primary:l10n.t(550,{count:a,_plural:a}),onClick:this.onShowMore})}return r.createElement(s.default,{a8nText:"section-common-groups",title:l10n.t(1259),subtitle:t},r.createElement(f.default,{flatListController:this.props.flatListController,direction:"vertical",forceConsistentRenderCount:!1,data:this.getData(),renderItem:this.renderItem}),n)}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.contact.commonGroups,a=n?n.length:0;return t.numGroups<=u.default.INFO_DRAWER_MAX_ROWS&&a>u.default.INFO_DRAWER_MAX_ROWS?{numGroups:a,collapsed:!0}:{numGroups:a}}}]),t}();y.CONCERNS={contact:["commonGroups"]},y.displayName="CommonGroupsWell",t.default=(0,p.default)((0,m.default)(y,y.CONCERNS))},cefehjcibf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("ejfeeeaeg");Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(e=a,e&&e.__esModule?e:{default:e}).default;var e}})},ceiehehagg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var i,l=e[Symbol.iterator]();!(a=(i=l.next()).done)&&(n.push(i.value),!t||n.length!==t);a=!0);}catch(e){r=!0,o=e}finally{try{!a&&l.return&&l.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.setGroupProperty=function(e,t,n){return function e(t,n,f){var p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,o.genId)();if(!t.groupMetadata.canSetGroupProperty())return Promise.reject(new u.ActionError);if(!n)return Promise.reject(new u.ActionError);var h=(0,d.sendSetGroupProperty)(t.id,n,f);var m={[l.default.GROUP_SETTING_TYPE.ANNOUNCEMENT]:{on:[l10n.t(288),l10n.t(280)],off:[l10n.t(287),l10n.t(279)]},[l.default.GROUP_SETTING_TYPE.RESTRICT]:{on:[l10n.t(294),l10n.t(286)],off:[l10n.t(293),l10n.t(285)]},[l.default.GROUP_SETTING_TYPE.NO_FREQUENTLY_FORWARDED]:{on:[l10n.t(292),l10n.t(284)],off:[l10n.t(291),l10n.t(283)]},[l.default.GROUP_SETTING_TYPE.EPHEMERAL]:{on:[l10n.t(290),l10n.t(282)],off:[l10n.t(289),l10n.t(281)]}};var b=0===f?"off":"on";var g=a(m[n][b],2),v=g[0],E=g[1];var y=new o.ActionType(v);var _=h.then(function(e){return new o.ActionType(E)}).catch(c.ServerStatusCodeError,function(e){if(404===e.status)return new o.ActionType(l10n.t(11)+" "+l10n.t(67))}).catch(function(a){return s.default.error("")(a),new o.ActionType(l10n.t(11),l10n.t(154),function(){return e(t,n,f,p)})});i.default.openToast(r.createElement(o.ActionToast,{id:p,initialAction:y,pendingAction:_}));return h.then(function(e){e._duplicate||t.groupMetadata.set(l.default.GROUP_SETTING_TO_METADATA[n],f)}).catch(c.ServerStatusCodeError,function(e){})}((0,f.unproxy)(e),t,n)};var r=h(n("ddhijeejag")),o=n("ccihhdchab"),i=p(n("bbchdeehff")),l=p(n("baagejbchg")),c=n("ddjgcfjicj"),u=h(n("cajijabhgb")),s=p(n("bdiiahhjbe")),d=n("babicefcfg"),f=n("bheafeifce");function p(e){return e&&e.__esModule?e:{default:e}}function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}},cgfeeffgi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=p(n("bbchdeehff")),i=p(n("biddiiafgd")),l=p(n("dhigahgdjb")),c=p(n("fifhbjiec")),u=p(n("bcbahjefec")),s=n("cgjcdbggeb"),d=n("cjcffhicea"),f=p(d);function p(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var u=arguments.length,d=Array(u),f=0;f<u;f++)d[f]=arguments[f];return n=a=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(d))),a.isGroupParticipant=function(e){return!!a.props.chat.groupMetadata.participants.get(e)},a.customSecondaryText=function(e){return a.props.chat.groupMetadata.participants.get(e)?l10n.t(1441):null},a.contactFilter=function(e){var t=a.props.chat.groupMetadata;return!!l.default.isFilteredContact(e)&&(!t.participants.get(e.id)||l10n.t(1441))},a.confirmAddParticipant=function(e){var t=a.props.chat;a.push(r.createElement(i.default,{onOK:a.onAddParticipant.bind(a,e),okText:l10n.t(1439,{_plural:e.length}),onCancel:a._pop,cancelText:l10n.t(1156)},r.createElement(c.default,{text:a.makeNameEnumeration(e,t.contact.name)})))},a.makeNameEnumeration=function(e,t){var n=e.map(function(e){return e.formattedShortName||e.shortName}).reduce(function(t,n,a){return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t),[n,a!==e.length-1&&l10n.t(421)||""])},[]);return l10n.t(323,{participants:n.join(""),subject:t})},a.onAddParticipant=function(e){(0,s.addParticipants)(a.props.chat,e).catch(function(){}),o.default.closeModal()},a._pop=function(){a.pop()},h(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,u.default),a(t,[{key:"componentDidMount",value:function(){this.push(r.createElement(f.default,{onChat:this.confirmAddParticipant,filter:this.contactFilter,title:l10n.t(1439),isDisabled:this.isGroupParticipant,isSelected:this.isGroupParticipant,customSecondaryText:this.customSecondaryText,listType:d.ListType.PARTICIPANT_MANAGE_MODAL}))}}]),t}();t.default=m},cjhacaccbi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=f(n("bbchdeehff")),i=f(n("biddiiafgd")),l=f(n("dhigahgdjb")),c=f(n("ddbdcagdbi")),u=f(n("fifhbjiec")),s=f(n("bcbahjefec")),d=n("cgjcdbggeb");function f(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,s=Array(c),f=0;f<c;f++)s[f]=arguments[f];return n=a=p(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),a.contactFilter=function(e){var t=a.props.chat.groupMetadata;return!!l.default.isFilteredContact(e)&&(!t.participants.get(e.id)||l10n.t(1441))},a.confirmAddParticipant=function(e){var t=a.onAddParticipant.bind(a,e),n=l10n.t(322,{participant:e.formattedName,subject:a.props.chat.contact.name});a.push(r.createElement(i.default,{onOK:t,okText:l10n.t(1439),onCancel:a._pop,cancelText:l10n.t(1156)},r.createElement(u.default,{text:n})))},a.onAddParticipant=function(e){(0,d.addParticipants)(a.props.chat,[e]).catch(function(){}),o.default.closeModal()},a._pop=function(){a.pop()},p(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default),a(t,[{key:"componentDidMount",value:function(){this.push(r.createElement(c.default,{title:l10n.t(1439),filter:this.contactFilter,onCancel:this._pop,onSelect:this.confirmAddParticipant}))}}]),t}();t.default=h},daadijaaah:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=m(n("dbdfbgehgj")),i=m(n("bbchdeehff")),l=m(n("bjigbaghc")),c=m(n("ddbdcagdbi")),u=m(n("bhhdeihhhf")),s=m(n("bjbdcigbdi")),d=m(n("eceadcicaf")),f=m(n("caffijjhc")),p=m(n("dbjbhajgfd")),h=m(n("jccfhaecf"));function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var c=arguments.length,d=Array(c),f=0;f<c;f++)d[f]=arguments[f];return n=a=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(d))),a.state={contextMenu:null},a.openChat=function(e){o.default.find(e).then(function(e){i.default.closeModal(),i.default.openChatFromUnread(e)})},a.contextMenu=function(e){return!h.default.equals(l.default.me,e)},a.onParticipantMenu=function(e,t){var n=a.props.chat.groupMetadata.participants,o=n.assertGet(t.id),i=[];if(n.canPromote(o)){var c=a.props.onParticipantPromote.bind(null,o,!1);i.push(r.createElement(u.default,{a8n:"mi-grp-promote-admin",key:"promote",action:c},l10n.t(695)))}if(n.canRemove(o)){var d=a.props.onParticipantRemove.bind(null,o,!1);i.push(r.createElement(u.default,{a8n:"mi-grp-remove-participant",key:"remove",action:d},l10n.t(700)))}if(s.default.supportsFeature(s.default.F.GROUPS_V_3)&&n.canDemote(o)){var f=a.props.onDemoteAdmin.bind(a,o);i.push(r.createElement(u.default,{a8n:"mi-grp-verify-identify",key:"demote-admin",action:f},l10n.t(389)))}h.default.equals(l.default.me,o.id)||i.push(r.createElement(u.default,{key:"message author",action:a.openChat.bind(null,o.contact.id)},l10n.t(709,{author:o.contact.formattedName}))),e.anchor||e.event||e.persist(),a.setState({contextMenu:{contactId:t.id,menu:i,anchor:e.anchor,event:e.anchor?void 0:e}})},a.contextClose=function(){a.setState({contextMenu:null})},a.contextEnabled=function(){return!1},a.cancel=function(){i.default.closeModal()},a.isAdmin=function(e){return a.props.chat.groupMetadata.participants.assertGet(e).isAdmin},a.contactFilter=function(e){return!!a.props.chat.groupMetadata.participants.get(e.id)},b(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),a(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.chat.groupMetadata.participants;this.props.listeners.add(t,"add remove reset",function(){e.forceUpdate()})}},{key:"render",value:function(){var e=void 0;return this.state.contextMenu&&(e=r.createElement(f.default,{displayName:"ChatContextMenu",escapable:!0,popable:!0,requestDismiss:this.contextClose},r.createElement(p.default,{contextMenu:this.state.contextMenu}))),r.createElement(r.Fragment,null,r.createElement(c.default,{title:l10n.t(987),filter:this.contactFilter,onCancel:this.cancel,openContextOnClick:!0,contextEnabled:this.contextEnabled,contextMenu:this.contextMenu,onContext:this.onParticipantMenu,showNotifyName:!0,listenForAdminChange:!0,participantCollection:this.props.chat.groupMetadata.participants}),e)}}]),t}();g.displayName="GroupParticipantSearch",t.default=(0,d.default)(g)},dabdhgiijc:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=de(n("ddhijeejag")),o=se(n("effbcehec")),i=se(n("cjhacaccbi")),l=se(n("cgfeeffgi")),c=se(n("dhbceejbjg")),u=se(n("dbdfbgehgj")),s=se(n("cfadcbbiie")),d=se(n("bbchdeehff")),f=se(n("baagejbchg")),p=se(n("biddiiafgd")),h=se(n("bjigbaghc")),m=se(n("djcchigfih")),b=se(n("gejdcbjjd")),g=se(n("djbhiedbef")),v=se(n("cabhjigfgc")),E=n("dajffajabh"),y=se(E),_=se(n("fijafegab")),j=se(n("bhhdeihhhf")),M=se(n("fifhbjiec")),C=de(n("cajijabhgb")),S=n("bbhhbdicgc"),P=se(S),O=se(n("bggeiidigb")),w=se(n("dgjddffcfg")),k=se(n("bjbdcigbdi")),N=se(n("dhdhbgbhed")),T=se(n("daadijaaah")),R=se(n("jheedhagg")),A=n("gaifbabbj"),D=se(n("cigbgdjabj")),I=de(n("dbcedfihd")),L=se(n("eceadcicaf")),x=se(n("ebdahjichh")),G=se(n("bdiiahhjbe")),F=se(n("bfajcggcdf")),B=n("cgjcdbggeb"),U=se(n("bfffgbbdch")),V=se(n("fbcdaahdd")),W=se(n("gdfgjiffc")),H=se(n("cdcaigjjii")),Y=n("bbbdgehigj"),q=se(n("bjbedjfe")),K=se(n("dadhidfcfe")),z=se(n("fdcfhecbj")),X=n("dcbafbaejf"),$=se(n("bfgbdiffgd")),Q=n("hjbhabfd"),J=n("biiiigbhdf"),Z=se(n("ihfccfgdf")),ee=n("bheafeifce"),te=se(n("bfdcadbbif")),ne=se(n("eedjbihej")),ae=n("hfhhcchgj"),re=se(ae),oe=n("bfjajhbdf"),ie=se(oe),le=se(n("caffijjhc")),ce=se(n("dbjbhajgfd")),ue=se(n("jccfhaecf"));function se(e){return e&&e.__esModule?e:{default:e}}function de(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var fe=(0,oe.genId)("max_participant_toast"),pe=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));he.call(n);var a=n.props,r=a.groupMetadata,o=r.desc,i=r.participants,l=r.pendingParticipants,c=a.showFullGroupDescription;return n.state={pendingSubject:!1,pendingDesc:!1,pendingPhoto:!1,contextMenu:null,name:e.contact.name,groupDesc:o,descTruncated:!c&&!!(o&&o.length>30),participantListCollapsed:i.length>f.default.INFO_DRAWER_MAX_ROWS,pendingParticipantListCollapsed:l.length>f.default.INFO_DRAWER_MAX_ROWS,resetPhotoPicker:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),a(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.groupMetadata;k.default.supportsFeature(k.default.F.GROUPS_V_4_JOIN_PERMISSION)&&t.queryGroupV4PendingInvite(),this.props.listeners.add(t.participants,"add remove reset sort change:isAdmin change:isSuperAdmin",function(){e.forceUpdate()}),this.props.listeners.add(t.pendingParticipants,"add remove reset",function(){e.forceUpdate()}),this.props.listeners.add(t,"change:desc",function(){e.updateGroupDescOnModelChange()}),this.ensureParticipantsSorted()}},{key:"componentDidUpdate",value:function(){this.ensureParticipantsSorted()}},{key:"ensureParticipantsSorted",value:function(){this.props.groupMetadata.participants.ensureSorted(),this.props.groupMetadata.pendingParticipants.ensureSorted()}},{key:"getData",value:function(){var e=void 0,t=[],n=[],a=this.props.groupMetadata.participants;a.forEach(function(a){a.contact.isMe?e=a:a.isAdmin?t.push(a):n.push(a)});var r=[];return e&&r.push(e),r=r.concat(t,n),a.length>f.default.INFO_DRAWER_MAX_ROWS&&this.state.participantListCollapsed&&(r=r.slice(0,f.default.INFO_DRAWER_MAX_ROWS)),r.map(function(e){return{itemKey:e.id.toString(),id:e.id}})}},{key:"getPendingParticipantListData",value:function(){var e=this.props.groupMetadata.pendingParticipants.toArray(),t=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e));return e.length>f.default.INFO_DRAWER_MAX_ROWS&&this.state.pendingParticipantListCollapsed&&(t=t.slice(0,f.default.INFO_DRAWER_MAX_ROWS)),t.map(function(e){return{itemKey:e.id.toString(),id:e.id}})}},{key:"render",value:function(){var e=this.props.chat,t=this.props.groupMetadata,n=r.createElement(_.default,null,r.createElement(v.default,{a8nText:"li-delete-group",icon:r.createElement(te.default,{name:"exit",directional:!0}),theme:"list-aligned",color:"danger",onClick:this.onExitOrDeleteGroup},e.isReadOnly?l10n.t(1190):l10n.t(1197))),a=void 0;e.isReadOnly||(a=r.createElement(_.default,null,r.createElement(v.default,{a8nText:"li-report-spam",theme:"list-aligned",color:"danger",icon:r.createElement(te.default,{name:"thumbs-down",directional:!0}),onClick:this.onReportSpam},l10n.t(936))));var i=void 0;if(t.participants.canAdd()){var l=r.createElement(z.default,null,r.createElement(te.default,{name:"add-user-light",directional:!0}));i=r.createElement(c.default,{image:l,theme:"drawer-list",primary:l10n.t(1439),onClick:this.openAddGroupParticipantFlow})}var u=void 0;if(t.participants.iAmAdmin()&&this.props.onGroupInviteLink){var d=r.createElement(z.default,null,r.createElement(te.default,{name:"link"}));u=r.createElement(c.default,{image:d,theme:"drawer-list",primary:l10n.t(521),onClick:this.props.onGroupInviteLink})}var p=void 0;if(t.participants.length>f.default.INFO_DRAWER_MAX_ROWS&&this.state.participantListCollapsed){var h=t.participants.length-f.default.INFO_DRAWER_MAX_ROWS,j=r.createElement(z.default,{theme:"transparent"},r.createElement(te.default,{name:"down",directional:!0}));p=r.createElement(c.default,{image:j,theme:"drawer-list",primary:l10n.t(550,{count:h,_plural:h}),onClick:this.onShowMore})}var M=void 0;if(t.pendingParticipants.length>f.default.INFO_DRAWER_MAX_ROWS&&this.state.pendingParticipantListCollapsed){var C=t.pendingParticipants.length-f.default.INFO_DRAWER_MAX_ROWS,S=r.createElement(z.default,{theme:"transparent"},r.createElement(te.default,{name:"down",directional:!0}));M=r.createElement(c.default,{image:S,theme:"drawer-list",primary:l10n.t(550,{count:C,_plural:C}),onClick:this.onShowMorePendingParticipants})}var O=void 0;t.pendingParticipants.length>0&&(O=r.createElement(P.default,{flatListController:this.pendingParticipantFlatListController,direction:"vertical",forceConsistentRenderCount:!1,data:this.getPendingParticipantListData(),renderItem:this.renderPendingParticipantItem}));var w=void 0,T=$.default.restrictGroups||$.default.announceGroups;if(t.participants.iAmAdmin()&&k.default.supportsFeature(k.default.F.GROUPS_V_3)&&T){var R=r.createElement(te.default,{name:"chevron-right-alt",directional:!0});w=r.createElement(b.default,{onClick:this.props.onAdminSetting,side:R},r.createElement(ne.default,{theme:"title"},l10n.t(549)))}var L=r.createElement(te.default,{name:"search"}),G=t.participants.length?r.createElement(_.default,{a8nText:"section-participants",title:l10n.t(1292,{count:t.participants.length,_plural:t.participants.length}),titleOnClick:k.default.supportsFeature(k.default.F.GROUPS_V_3)?this.openParticpantSearch:void 0,subtitle:k.default.supportsFeature(k.default.F.GROUPS_V_3)?L:void 0},i,u,r.createElement(P.default,{flatListController:this.participantFlatListController,direction:"vertical",forceConsistentRenderCount:!1,data:this.getData(),renderItem:this.renderItem}),p):null,B=void 0;t.participants.iAmAdmin()&&t.pendingParticipants.length>0&&(B=r.createElement(_.default,{a8nText:"section-participants",title:l10n.t(554,{number:t.pendingParticipants.length})},O,M));var V=null;if(this.props.onMediaGallery){var Y=this.props.onMediaGallery,q=r.createElement(te.default,{name:"chevron-right-alt",directional:!0}),K=k.default.supportsFeature(k.default.F.LINK_DOC_GALLERY)?l10n.t(688):l10n.t(682);V=r.createElement(_.default,{a8nText:"section-media",title:K,titleOnClick:Y,subtitle:q,theme:"padding"},r.createElement(F.default,{chat:(0,ee.unproxy)(e),mediaMsgs:e.getMediaMsgs()}))}var X=this.props.contact.profilePicThumb,Q=H.default.GROUP,J=e.isReadOnly||!X.canDelete()&&!X.canSet(),Z=r.createElement("div",{className:N.default.avatar},r.createElement(W.default,{key:String(this.state.resetPhotoPicker),type:Q,id:this.props.contact.id,attachToChat:!0,pending:this.state.pendingPhoto,startImage:this.props.profilePicThumb.imgFull,readOnly:J,onImageSet:this.onImageSet})),oe=null;this.props.groupMetadata.creation&&(oe=r.createElement("div",{"data-a8n":o.default.key("group-created-time"),className:N.default.nameSecondary},r.createElement(ne.default,{theme:"muted"},l10n.t(1211,{when:s.default.relativeDateAndTimeStr(this.props.groupMetadata.creation)}))));var ie=null;k.default.supportsFeature(k.default.F.LIVE_LOCATIONS)&&(ie=r.createElement(x.default,{chat:e,onClick:this.props.onLiveLocation}));var ue=e.mute.canMute()?r.createElement(U.default,{chat:e,mute:e.mute}):null,se=null;if(this.props.onStarred){var de=r.createElement(te.default,{name:"chevron-right-alt",directional:!0});se=r.createElement(b.default,{side:de,onClick:this.props.onStarred},r.createElement(ne.default,{theme:"title"},l10n.t(299)))}var fe=void 0;this.state.contextMenu&&(fe=r.createElement(le.default,{displayName:"ChatContextMenu",escapable:!0,popable:!0,requestDismiss:this.contextClose},r.createElement(ce.default,{contextMenu:this.state.contextMenu})));var pe=null;(ue||se)&&(pe=r.createElement(_.default,null,ue,se,null,w));var he=void 0;if(k.default.supportsFeature(k.default.F.GROUPS_V_3)&&$.default.groupDescLength>0){var me=this.state.groupDesc||"",be={textLimit:this.state.descTruncated?f.default.GROUP_DESCRIPTION_INFO_PANEL_TRUNC_LENGTH:1/0,readMoreText:l10n.t(919),onReadMore:this.onDescriptionReadMore,formatters:this.props.chat.isTrusted()?A.Configuration.TrustedGroupDesc({links:I.findLinks(me)}):A.Configuration.UntrustedGroupDesc()};he=r.createElement(_.default,{theme:"group-desc-padding",title:l10n.t(507)},r.createElement("div",{className:N.default.description},r.createElement(re.default,{value:me,emptyValuePlaceholder:l10n.t(167),renderEmojiTextInLockMode:be,editable:t.canSetDescription(),pending:this.state.pendingDesc,showRemaining:!0,maxLength:$.default.groupDescLength,onChange:this.onGroupDescChange,onSave:this.onSetDescription,onCancel:this.onCancelDesc,multiline:!0,editRestrictionInfo:t.restrict?this.showEditRestrictionInfo:void 0,supportsEmoji:!0,lockable:!0,lowProfile:!0,customStyleThemes:[ae.TextInputCustomStyleThemes.groupInfoName],theme:"small"})))}return r.createElement(m.default,{key:"contact-info-modal"},r.createElement(y.default,{title:l10n.t(1220),type:E.DRAWER_HEADER_TYPE.SMALL,onCancel:this.onClose}),r.createElement(g.default,{flatListControllers:[this.pendingParticipantFlatListController,this.participantFlatListController]},r.createElement("div",{className:N.default.body},r.createElement(_.default,{theme:"padding-large"},Z,r.createElement(re.default,{value:this.state.name||"",editable:t.canSetSubject(),pending:this.state.pendingSubject,showRemaining:!0,validate:this.validateSubject,maxLength:$.default.maxSubject,onChange:this.onSubjectChange,onSave:this.onSetSubject,onError:this.onSetSubjectError,onCancel:this.onCancelSubject,editRestrictionInfo:t.restrict?this.showEditRestrictionInfo:void 0,supportsEmoji:!0,lockable:!0,lowProfile:!0,theme:"large",customStyleThemes:[ae.TextInputCustomStyleThemes.groupInfoName]}),oe,r.createElement(D.default,{labels:e.labels})),he,ie,V,pe,null,G,B,n,a)),fe)}}]),t}();pe.CONCERNS={chat:["isReadOnly","mute","id","pendingAction","liveLocation","labels"],groupMetadata:["desc","participants","pendingParticipants","creation","restrict","announce"],contact:["name","id","profilePicThumb","pendingAction"],profilePicThumb:["imgFull"]};var he=function(){var e=this;this.participantFlatListController=new O.default,this.pendingParticipantFlatListController=new O.default,this.updateGroupDescOnModelChange=function(){e.props.groupMetadata&&e.setState({groupDesc:e.props.groupMetadata.desc})},this.onImageSet=function(t,n){var a=e.props.profilePicThumb;e.setState({pendingPhoto:!0});(t&&n?(0,Y.setProfilePic)(a,t,n):(0,Y.deleteProfilePic)(a)).checkpoint(e.props.rejectOnUnmount()).catch(C.Unmount,function(){}).catch(C.ActionError,function(t){G.default.warn("GroupInfoDrawer: failed to set/delete group image")(t),e.setState({resetPhotoPicker:!e.state.resetPhotoPicker})}).finally(function(){e.setState({pendingPhoto:!1})})},this.onParticipantClick=function(e,t){ue.default.equals(h.default.me,t.id)||u.default.find(t.id).then(function(e){d.default.openChatFromUnread(e).then(function(t){t&&d.default.focusChatTextInput(e)})})},this.menuEnabled=function(t){var n=e.props.groupMetadata.participants,a=n.get(t.id);return!!a&&(n.canPromote(a)||n.canRemove(a)||n.canVerifyIdentity(a))},this.onDemoteAdmin=function(t){t.contact.pendingAction++,(0,B.demoteParticipants)(e.props.chat,[t]).then(function(){t.contact.pendingAction--}),e.setState({contextMenu:null})},this.onParticipantMenu=function(t,n){var a=e.props.groupMetadata.participants,o=a.assertGet(n.id);if(e.menuEnabled(n)){var i=[];if(a.canPromote(o)){var l=e.confirmParticipantPromote.bind(e,o);i.push(r.createElement(j.default,{a8n:"mi-grp-promote-admin",key:"promote",action:l},l10n.t(695)))}if(a.canRemove(o)){var c=e.confirmParticipantRemove.bind(e,o);i.push(r.createElement(j.default,{a8n:"mi-grp-remove-participant",key:"remove",action:c},l10n.t(700)))}if(k.default.supportsFeature(k.default.F.GROUPS_V_3)&&a.canDemote(o)){var u=e.onDemoteAdmin.bind(e,o);i.push(r.createElement(j.default,{a8n:"mi-grp-verify-identify",key:"demote-admin",action:u},l10n.t(389)))}t.event&&t.event.persist(),e.setState({contextMenu:{contactId:n.id,menu:i,anchor:t.anchor,event:t.event}})}},this.contextClose=function(){e.setState({contextMenu:null})},this.confirmParticipantRemove=function(t){var n=e.onParticipantRemove.bind(e,t,!0),a=l10n.t(334,{participant:t.contact.formattedName,subject:e.props.contact.name});d.default.openModal(r.createElement(p.default,{onOK:n,okText:l10n.t(921),onCancel:function(){return d.default.closeModal()},cancelText:l10n.t(1156)},r.createElement(M.default,{text:a})))},this.onParticipantRemove=function(t,n){t.contact.pendingAction++,(0,B.removeParticipants)(e.props.chat,[t]).then(function(){t.contact.pendingAction--}),n&&d.default.closeModal()},this.confirmParticipantPromote=function(t){var n=e.onParticipantPromote.bind(e,t,!0),a=l10n.t(333,{participant:t.contact.formattedName,subject:e.props.contact.name});d.default.openModal(r.createElement(p.default,{onOK:n,okText:l10n.t(695),onCancel:function(){return d.default.closeModal()},cancelText:l10n.t(1156)},r.createElement(M.default,{text:a})))},this.onParticipantPromote=function(t,n){t.contact.pendingAction++,(0,B.promoteParticipants)(e.props.chat,[t]).then(function(){t.contact.pendingAction--}),n&&d.default.closeModal()},this.openAddGroupParticipantFlow=function(){var t=e.props.chat;if(e.props.groupMetadata.participants.length>=$.default.maxParticipants){var n=l10n.t(53,{max:$.default.maxParticipants});d.default.openToast(r.createElement(ie.default,{msg:n,id:fe}))}else{var a=k.default.supportsFeature(k.default.F.GROUPS_V_3)?r.createElement(l.default,{chat:(0,ee.unproxy)(t),pushTransition:"none",popTransition:"none"}):r.createElement(i.default,{chat:(0,ee.unproxy)(t),pushTransition:"none",popTransition:"none"});d.default.openModal(a,{transition:"modal-flow"})}},this.openParticpantSearch=function(){d.default.openModal(r.createElement(T.default,{chat:(0,ee.unproxy)(e.props.chat),onParticipantPromote:e.onParticipantPromote,onParticipantRemove:e.onParticipantRemove,onDemoteAdmin:e.onDemoteAdmin}),{transition:"modal-flow"})},this.onClose=function(){e.props.onClose?e.props.onClose():e.props.uim.uie.requestDismiss()},this.onExitOrDeleteGroup=function(){d.default.deleteOrExitChat(e.props.chat)},this.onSubjectChange=function(t){e.setState({name:t})},this.onGroupDescChange=function(t){e.setState({groupDesc:t})},this.validateSubject=function(e){return!(!e||!e.trim())},this.onSetSubjectError=function(){d.default.openModal(r.createElement(p.default,{onOK:function(){return d.default.closeModal()},okText:l10n.t(1290)},l10n.t(81)))},this.onSetSubject=function(){var t=e.props.chat;if(e.props.groupMetadata.canSetSubject()){var n=w.default.emojify(e.state.name||"");if(n===e.props.contact.name)return e.setState({name:n});e.setState({pendingSubject:!0}),(0,J.setGroupSubject)(t,n).then(function(){e.setState({name:e.props.contact.name,pendingSubject:!1})}).catch(C.Unmount,function(){}).catch(function(t){G.default.error("group_info_drawer:onSetSubject failed")(t),e.setState({name:e.props.contact.name,pendingSubject:!1})})}},this.onSetDescription=function(){var t=e.props,n=t.chat,a=t.groupMetadata;if(a.canSetDescription()){var r=e.state.groupDesc||"",o=r.match(/\r\n/gm)?"\r\n":"\n",i=new RegExp(`^(${o}{2,})([^\n])`,"gm");r=r.replace(i,`${o}$2`);var l=w.default.emojify(r||"");if(l===a.desc)return e.setState({groupDesc:l});e.setState({pendingDesc:!0}),(0,Q.setGroupDesc)(n,l).then(function(){e.setState({groupDesc:a.desc,pendingDesc:!1})}).catch(C.Unmount,function(){}).catch(function(t){G.default.error("group_info_drawer:onSetDescription failed")(t),e.setState({groupDesc:e.props.groupMetadata.desc,pendingDesc:!1})})}},this.onCancelSubject=function(){e.setState({name:e.props.contact.name})},this.onCancelDesc=function(){e.setState({groupDesc:e.props.groupMetadata.desc})},this.onShowMore=function(){e.setState({participantListCollapsed:!1})},this.onShowMorePendingParticipants=function(){e.setState({pendingParticipantListCollapsed:!1})},this.renderItem=function(t){var n=t.id,a=e.props.groupMetadata.participants.get(n);if(!a)throw new S.UnknownDataError(t);var o=a.contact,i=!!e.state.contextMenu&&ue.default.equals(o.id,e.state.contextMenu.contactId);return r.createElement(V.default,{contact:o,participant:a,key:a.id.toString(),onClick:e.onParticipantClick,contextEnabled:e.menuEnabled.bind(e,o),contextMenu:i,onContext:function(t){return e.onParticipantMenu(t,o)},showNotifyName:!0,waitIdle:!0})},this.onReportSpam=function(){d.default.openModal(r.createElement(K.default,{isGroupChat:!0,onReport:e.reportSpam,onReportExitClear:e.reportSpamExitClear,onCancel:function(){return d.default.closeModal()}}))},this.reportSpam=function(){(0,X.sendSpamReport)(e.props.chat),d.default.closeModal()},this.reportSpamExitClear=function(){(0,X.sendSpamExitClear)(e.props.chat),d.default.closeModal()},this.onDescriptionReadMore=function(){e.setState({descTruncated:!1})},this.showEditRestrictionInfo=function(){d.default.openModal(r.createElement(p.default,{onOK:function(){return d.default.closeModal()},okText:l10n.t(1290)},l10n.t(864)))},this.revokeGrpV4Invite=function(t){d.default.openModal(r.createElement(p.default,{onOK:function(){d.default.closeModal(),e.props.groupMetadata.revokeGroupV4AddInvite([t.id.toString()]).then(function(){d.default.openToast(r.createElement(ie.default,{msg:l10n.t(1257),id:(0,oe.genId)()}))})},okText:l10n.t(1349),onCancel:function(){return d.default.closeModal()},cancelText:l10n.t(1156)},r.createElement(M.default,{text:l10n.t(562,{participant:t.contact.formattedName})})))},this.renderPendingParticipantItem=function(t){var n=t.id,a=e.props.groupMetadata.pendingParticipants.get(n);if(!a)throw new S.UnknownDataError(t);var o=a.contact;return r.createElement(V.default,{contact:o,participant:a,key:a.id.toString(),contextEnabled:function(){return!0},contextMenu:!0,onContext:function(t){return e.onPendingParticipantMenu(t,o)},showNotifyName:!0,isPendingParticipant:!0,waitIdle:!0})},this.onPendingParticipantMenu=function(t,n){var a=e.props.groupMetadata.pendingParticipants.assertGet(n.id),o=[r.createElement(j.default,{a8n:"mi-grp-promote-admin",key:"promote",action:e.revokeGrpV4Invite.bind(e,a)},l10n.t(968))];t.event&&t.event.persist(),e.setState({contextMenu:{contactId:n.id,menu:o,anchor:t.anchor,event:t.event}})}};pe.displayName="GroupInfoDrawer",t.default=(0,R.default)((0,q.default)((0,L.default)((0,Z.default)(pe,pe.CONCERNS))))},dcabggiiff:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=k(n("beajagdaig")),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=k(n("cfadcbbiie")),l=k(n("bbchdeehff")),c=k(n("baagejbchg")),u=k(n("bjigbaghc")),s=k(n("djcchigfih")),d=k(n("gejdcbjjd")),f=k(n("djbhiedbef")),p=n("dajffajabh"),h=k(p),m=k(n("fijafegab")),b=k(n("bjbdcigbdi")),g=k(n("gecdhggfj")),v=k(n("bfigfbdgha")),E=k(n("jheedhagg")),y=k(n("fffdgbfji")),_=k(n("eceadcicaf")),j=n("cgjcdbggeb"),M=n("cjcffhicea"),C=k(M),S=k(n("bfgbdiffgd")),P=k(n("ihfccfgdf")),O=k(n("eedjbihej")),w=k(n("jccfhaecf"));function k(e){return e&&e.__esModule?e:{default:e}}function N(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var T=function(e){var t=e.isRestricted,n=e.onClick;return o.createElement(d.default,{onClick:n,multiline:!0},o.createElement("div",{className:g.default.header},o.createElement(O.default,{theme:"title"},y.default.t(542))),o.createElement(O.default,{theme:"muted",block:!0},t?y.default.t(547):y.default.t(540)))};T.displayName="RestrictedSettingDrawerBlock";var R=function(e){var t=e.isAnnouncement,n=e.onClick;return o.createElement(d.default,{onClick:n,multiline:!0},o.createElement("div",{className:g.default.header},o.createElement(O.default,{theme:"title"},y.default.t(548))),o.createElement(O.default,{theme:"muted",block:!0},t?y.default.t(547):y.default.t(540)))};R.displayName="AnnouncementSettingDrawerBlock";var A=function(e){var t=e.isNoFrequentlyForwarded,n=e.onClick;return o.createElement(d.default,{onClick:n,multiline:!0},o.createElement("div",{className:g.default.header},o.createElement(O.default,{theme:"title"},y.default.t(545))),o.createElement(O.default,{theme:"muted",block:!0},t?y.default.t(546):y.default.t(544)))};A.displayName="NoFrequentlyForwardedDrawerBlock";var D=function(e){var t=e.ephemeralDuration,n=e.onClick,a=i.default.ephemeralDurationStr(t);return o.createElement(d.default,{onClick:n,multiline:!0},o.createElement("div",{className:g.default.header},o.createElement(O.default,{theme:"title"},y.default.t(543))),o.createElement(O.default,{theme:"muted",block:!0},a))};D.displayName="EphemeralSettingDrawerBlock";var I=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,s=Array(i),d=0;d<i;d++)s[d]=arguments[d];return n=r=N(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.openSettingModal=function(e){var t=r.props,n=t.chat,a=t.groupMetadata;l.default.openModal(o.createElement(v.default,{settingType:e,chat:n,groupMetadata:a}),{transition:"modal",uim:r.props.uim})},r.openAnnouncementSettingModal=function(){r.openSettingModal(c.default.GROUP_SETTING_TYPE.ANNOUNCEMENT)},r.openRestrictedSettingModal=function(){r.openSettingModal(c.default.GROUP_SETTING_TYPE.RESTRICT)},r.openNoFrequentlyForwardedSettingModal=function(){r.openSettingModal(c.default.GROUP_SETTING_TYPE.NO_FREQUENTLY_FORWARDED)},r.openEphemeralSettingModal=function(){r.openSettingModal(c.default.GROUP_SETTING_TYPE.EPHEMERAL)},r.getCurrentAdmins=function(){return r.props.groupMetadata.participants.filter(function(e){return e.isAdmin}).map(function(e){return e.contact})},r.filterParticipants=function(e){return!!r.props.groupMetadata.participants.get(e.id)},r.isDisabled=function(e){var t=r.props.groupMetadata;return w.default.equals(e,t.owner)||u.default.me.equals(e)},r.openManageAdminModal=function(){l.default.openModal(o.createElement(C.default,{onChat:r.updateAdmins,getInitialItems:r.getCurrentAdmins,isDisabled:r.isDisabled,isSelected:r.isDisabled,filter:r.filterParticipants,title:y.default.t(679),useShortName:!0,useAllContacts:!0,listType:M.ListType.PARTICIPANT_MANAGE_MODAL}))},r.updateAdmins=function(e){var t=r.props,n=t.chat,o=t.groupMetadata.participants,i=o.filter(function(e){return e.isAdmin}),c=(0,a.default)(e,i,function(e,t){return e.id.equals(t.id)}).map(function(e){return o.assertGet(e.id)}),u=(0,a.default)(i,e,function(e,t){return e.id.equals(t.id)});c.length>0&&(c.forEach(function(e){e.contact.pendingAction++}),(0,j.promoteParticipants)(n,c).finally(function(){c.forEach(function(e){e.contact.pendingAction--})})),u.length>0&&(u.forEach(function(e){e.contact.pendingAction++}),(0,j.demoteParticipants)(n,u).finally(function(){u.forEach(function(e){e.contact.pendingAction--})})),l.default.closeModal()},N(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),r(t,[{key:"render",value:function(){var e=this.props.groupMetadata,t=void 0,n=void 0,a=void 0,r=void 0,i=void 0,l=void 0;return S.default.restrictGroups&&(n=o.createElement(T,{onClick:this.openRestrictedSettingModal,isRestricted:e.restrict})),S.default.announceGroups&&(a=o.createElement(R,{onClick:this.openAnnouncementSettingModal,isAnnouncement:e.announce})),S.default.ephemeralMessages&&b.default.supportsFeature(b.default.F.EPHEMERAL_MESSAGES)&&(r=o.createElement(D,{onClick:this.openEphemeralSettingModal,ephemeralDuration:e.ephemeralDuration||0})),(n||a||r)&&(t=o.createElement(m.default,null,n,a,r)),S.default.frequentlyForwardedGroupSetting&&b.default.supportsFeature(b.default.F.FREQUENTLY_FORWARDED_SETTING)&&(i=o.createElement(m.default,null,o.createElement(A,{onClick:this.openNoFrequentlyForwardedSettingModal,isNoFrequentlyForwarded:e.noFrequentlyForwarded}))),S.default.restrictGroups&&(l=o.createElement(m.default,null,o.createElement(d.default,{onClick:this.openManageAdminModal,multiline:!0},o.createElement("div",{className:g.default.header},o.createElement(O.default,{theme:"title"},y.default.t(679)))))),o.createElement(s.default,null,o.createElement(h.default,{title:y.default.t(549),type:p.DRAWER_HEADER_TYPE.SMALL,onBack:this.props.onClose}),o.createElement(f.default,null,t,i,l))}}]),t}();I.CONCERNS={chat:["id"],groupMetadata:["restrict","announce","noFrequentlyForwarded","ephemeralDuration","participants","owner"]},I.displayName="GroupAdminSetting",t.default=(0,E.default)((0,_.default)((0,P.default)(I,I.CONCERNS)))},dcdageegba:function(e,t,n){"use strict";var a=j(n("cehcfaibji")),r=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=j(n("ceffhbhahb")),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),l=n("ccihhdchab"),c=j(n("bhghbagiah")),u=j(n("djcchigfih")),s=j(n("djbhiedbef")),d=n("dajffajabh"),f=j(d),p=j(n("bjbdcigbdi")),h=j(n("fffdgbfji")),m=j(n("cbdbejjhjd")),b=j(n("bfajcggcdf")),g=j(n("djbhhciahi")),v=j(n("bajcbaccgg")),E=j(n("dceicchccd")),y=j(n("caffijjhc")),_=j(n("didfdhbecg"));function j(e){return e&&e.__esModule?e:{default:e}}var M={MEDIA:"media",DOCS:"docs",LINKS:"links"},C=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onSelectMessages=function(){e.state.selectable||e.setState({selectable:!0})},e.onCancelSelection=function(){e.state.selectable&&(e.selectedMessages.unsetAll(),e.setState({selectable:!1}))},e.onMessageSelect=function(t,n){e.onSelectMessages(),e.selectedMessages.setVal(t,n),0===e.selectedMessages.getSelected().length&&e.onCancelSelection()},e.selectedMessages=new E.default([],function(e){return e.id.toString()}),e.state={selected:M.MEDIA,direction:null,selectable:!1},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"onSelectTab",value:function(e){var t=(0,a.default)(M).indexOf(this.state.selected),n=(0,a.default)(M).indexOf(e);t!==n&&this.selectedMessages.unsetAll();var r=n>t?"right":"left";this.setState({selected:e,direction:r,selectable:!1})}},{key:"getTabs",value:function(){var e=this;if(!p.default.supportsFeature(p.default.F.LINK_DOC_GALLERY))return null;var t=[{tab:M.MEDIA,title:h.default.t(682)},{tab:M.DOCS,title:h.default.t(390)},{tab:M.LINKS,title:h.default.t(625)}].map(function(t){var n=(0,o.default)(g.default.menuItem,{[g.default.active]:e.state.selected===t.tab});return i.createElement("button",{className:n,onClick:e.onSelectTab.bind(e,t.tab),key:t.tab,title:t.title},t.title)});return i.createElement("div",{className:g.default.menuTabsLists,"data-active-tab":this.state.selected},t)}},{key:"getContent",value:function(){var e=this.props.chat;if(!p.default.supportsFeature(p.default.F.LINK_DOC_GALLERY))return i.createElement(b.default,{chat:e,mediaMsgs:e.getMediaMsgs(),selectable:this.state.selectable,onMessageSelect:this.onMessageSelect,selectedMessages:this.selectedMessages,fullCollection:!0});var t=void 0;switch(this.state.selected){case M.MEDIA:t=i.createElement(b.default,{chat:e,mediaMsgs:e.getMediaMsgs(),selectable:this.state.selectable,onMessageSelect:this.onMessageSelect,selectedMessages:this.selectedMessages,fullCollection:!0});break;case M.LINKS:t=i.createElement(m.default,{chat:e,linkMsgs:e.getLinkMsgs(),selectable:this.state.selectable,onMessageSelect:this.onMessageSelect,selectedMessages:this.selectedMessages});break;case M.DOCS:t=i.createElement(c.default,{chat:e,docMsgs:e.getDocMsgs(),selectable:this.state.selectable,onMessageSelect:this.onMessageSelect,selectedMessages:this.selectedMessages})}return t}},{key:"render",value:function(){var e=this.props.chat,t=this.getTabs(),n=this.getContent(),a=this.state.selectable?i.createElement(y.default,{displayName:"MediaMultiSelect",escapable:!0,requestDismiss:this.onCancelSelection},i.createElement(v.default,{chat:e,noSortOnForward:!0,theme:"mediaGallery",toastPosition:l.ToastPosition.RIGHT,downloadButton:this.state.selected!==M.LINKS,selectedMessages:this.selectedMessages,onCancel:this.onCancelSelection})):null,r="right"===this.state.direction?"slide-forward":"slide-back",o=p.default.supportsFeature(p.default.F.LINK_DOC_GALLERY)?" ":h.default.t(682);return i.createElement(u.default,{theme:"gallery"},i.createElement(f.default,{title:o,onBack:this.props.onBack,type:d.DRAWER_HEADER_TYPE.MULTI_MEDIA_GALLERY}),a,t,i.createElement(s.default,{"data-list-scroll-container":!0},i.createElement(_.default,{transitionName:r,className:g.default.column},i.createElement("div",{className:g.default.multimediaGallery,key:this.state.selected},i.createElement("div",{className:g.default.column},n)))))}}]),t}();C.displayName="MediaGalleryDrawer",e.exports=C},deaaffdfff:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=y(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=y(n("cehjjfagii")),l=y(n("baagejbchg")),c=y(n("fifhbjiec")),u=y(n("dheeebbech")),s=n("gaifbabbj"),d=y(n("fffdgbfji")),f=y(n("bjjbghfcbd")),p=y(n("cfhehaefih")),h=y(n("eceadcicaf")),m=y(n("dbfbdfhfee")),b=y(n("ihfccfgdf")),g=y(n("dgdadejebh")),v=y(n("didfdhbecg")),E=n("caceaafdic");function y(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.mouseOver=function(){n.state.hover||n.setState({hover:!0})},n.mouseEnter=function(){n.state.hover||n.setState({hover:!0})},n.mouseLeave=function(){n.state.hover&&n.setState({hover:!1})},n.onSelectChange=function(e){n.state.selected!==e&&n.setState({selected:e})},n.onSelectClick=function(e){e&&e.stopPropagation(),n.props.onMessageSelect(n.props.msg,!n.state.selected)},n.onClick=function(){n.props.onClickMsg(n.props.msg,!n.state.selected)};var a=e.msg,r=e.selectedMessages;return n.state={hover:!1,selected:r.isSelected(a)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(this.props.selectedMessages,this.props.msg.id.toString(),this.onSelectChange)}},{key:"render",value:function(){var e=this.props,t=e.msg,n=e.link,a=e.displayAuthor,h=this.props.selectable||this.state.hover?o.createElement(m.default,{checked:this.state.selected,onClick:this.onSelectClick,msgTheme:"gallery"}):null,b=(t.isTrusted()?s.Configuration.TrustedConversation:s.Configuration.UntrustedConversation)({mentions:t.mentionMap(),links:t.getLinks(),selectable:!0}),y=t.body&&t.body.includes(n.url)?t.body:t.caption,_=a?o.createElement("div",{className:f.default.author},o.createElement(i.default,{msg:t,contact:t.senderObj})):null,j=t.getSuspiciousLinks().length>0;return o.createElement(u.default,{hover:this.state.hover,onClick:this.onClick,onMouseEnter:this.state.hover?null:this.mouseEnter,onMouseOver:this.state.hover?null:this.mouseOver,onMouseLeave:this.state.hover?this.mouseLeave:null},o.createElement("div",{className:f.default.msg},o.createElement(v.default,{transitionName:"delay-leave"},h),o.createElement(E.MessageContainer,{isSentByMe:t.isSentByMe},o.createElement("div",{className:(0,r.default)(f.default.bubble,{[f.default.hasAuthor]:a,[f.default.hasSuspiciousLinks]:j})},_,o.createElement(g.default,{link:n,displayType:l.default.DISP_TYPE.GALLERY}),o.createElement(p.default,{title:n.url,isSentByMe:t.isSentByMe,canonicalUrl:n.domain,displayType:l.default.DISP_TYPE.GALLERY,star:t.star}),o.createElement(c.default,{text:y,selectable:!0,className:f.default.text,dirMismatch:t.rtl!==d.default.isRTL(),direction:t.dir,formatters:b})))))}}]),t}();_.CONCERNS={msg:["body","caption","dir","id","isSentByMe","mediaData","type","rtl","senderObj","star","mediaData"]},_.displayName="LinkMsg",t.default=(0,h.default)((0,b.default)(_,_.CONCERNS))},dgihdjihd:function(e,t){e.exports={docGallery:"_1NuWB",spinner:"_2wsUd"}},dgjggjiggi:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=m(n("cfaacaccfj")),i=m(n("bbchdeehff")),l=m(n("baagejbchg")),c=m(n("biddiiafgd")),u=m(n("fifhbjiec")),s=n("bidfjbaebi"),d=n("facgccaif"),f=m(n("bjbdcigbdi")),p=m(n("fffdgbfji")),h=m(n("ihfccfgdf"));function m(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var g=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),c=0;c<r;c++)o[c]=arguments[c];return n=a=b(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.onConfirm=function(){i.default.closeModal()},a.onLearnMore=function(e){e.preventDefault(),i.default.closeModal("none"),setTimeout(function(){return(0,s.openExternalLink)((0,d.getBusinessFaqUrl)())},10)},a.getMessage=function(){var e=a.props.contact;switch(e.verifiedLevel){case l.default.VERIFIED_LEVEL.HIGH:return p.default.t(1363);case l.default.VERIFIED_LEVEL.LOW:return p.default.t(1365);case l.default.VERIFIED_LEVEL.UNKNOWN:return p.default.t(1367,{businessName:e.formattedName})}},a.getMessageV2=function(){var e=a.props.contact;switch(e.verifiedLevel){case l.default.VERIFIED_LEVEL.HIGH:return e.name===e.verifiedName?p.default.t(1149,{businessName:e.verifiedName}):p.default.t(1150,{businessName:e.verifiedName});case l.default.VERIFIED_LEVEL.LOW:case l.default.VERIFIED_LEVEL.UNKNOWN:return p.default.t(1151)}},b(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.PureComponent),a(t,[{key:"render",value:function(){var e=void 0;e=f.default.supportsFeature(f.default.F.VNAME_V_2)?this.getMessageV2():this.getMessage();var t=r.createElement(o.default,{onClick:this.onLearnMore},p.default.t(623));return r.createElement(c.default,{onOK:this.onConfirm,okText:p.default.t(863)},r.createElement(u.default,{text:e}),"",t)}}]),t}();g.CONCERNS={contact:["name","verifiedLevel","verifiedName","formattedName"]},g.displayName="BusinessInfoModal",t.default=(0,h.default)(g,g.CONCERNS)},dhdhbgbhed:function(e,t){e.exports={body:"_3xdMj",avatar:"_2XJ_f",description:"p1-qj",nameSecondary:"_1dDzK"}},djbhhciahi:function(e,t){e.exports={multimediaGallery:"ca1V1",column:"_3JYvu",menuItem:"Y1iVg",active:"_3caqI",menuTabsLists:"_27U_m"}},djibddbgic:function(e,t){e.exports={close:"_8icek",profileThumb:"btMYD",profileContainer:"_19YfI",media:"_11UqX",profileViewer:"_3SCfu",profileViewerImg:"_2p8um",container:"_1iNsf","media-viewer-animate":"_2pKlK",mediaViewerAnimate:"_2pKlK",headerContainer:"s4BtI"}},ebdahjichh:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=h(n("fijafegab")),i=h(n("eceadcicaf")),l=h(n("cdcijfdgje")),c=n("cicjibbhdb"),u=h(n("bhifaggjcb")),s=h(n("ihfccfgdf")),d=n("bheafeifce"),f=h(n("bfdcadbbif")),p=h(n("eedjbihej"));function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.updateParticipants=function(){n.setState({participants:n.getParticipants(n.props.chat)})},n.state={participants:n.getParticipants(e.chat)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),a(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.chat;t.liveLocationQueried||l.default.getActive(t.id.toString()).then(function(){t.liveLocationQueried=!0}).catch(function(){}),this.props.listeners.add((0,d.unproxy)(t),"change:liveLocation",function(){var n=t.liveLocation;n&&(e.removeParticipantListener(n),e.addParticipantListener(n),e.updateParticipants())});var n=t.liveLocation;n&&this.addParticipantListener(n)}},{key:"addParticipantListener",value:function(e){this.props.listeners.add(e.participants,"add remove",this.updateParticipants)}},{key:"removeParticipantListener",value:function(e){this.props.listeners.remove(e.participants,"add remove",this.updateParticipants)}},{key:"getParticipants",value:function(e){var t=e.liveLocation;return t?t.participants.toArray():[]}},{key:"getText",value:function(){var e=this.props.chat,t=this.state.participants,n=void 0,a=void 0,r=0;if(t.forEach(function(e){e.isMe?n=!0:(a||(a=e.contact),r++)}),e.isGroup)return n?1===t.length?l10n.t(651):l10n.t(650,{count:r,_plural:r}):l10n.t(647,{count:r,_plural:r});if(n){if(1===t.length)return l10n.t(651);if(a)return l10n.t(649,{name:a.formattedShortNameWithNonBreakingSpaces})}else if(a)return l10n.t(646,{name:a.formattedShortNameWithNonBreakingSpaces});return""}},{key:"render",value:function(){var e=this.props.onClick;if(!this.state.participants.length)return null;var t=r.createElement(f.default,{name:(0,c.liveLocationIcon)(!0)});return r.createElement(o.default,{a8nText:"section-live-location",theme:"padding",title:l10n.t(654),titleOnClick:e},r.createElement(u.default,{side:t,onClick:e},r.createElement(p.default,{theme:"title"},this.getText())))}}]),t}();m.CONCERNS={chat:["id","isGroup","liveLocation","liveLocationQueried"]},m.displayName="LiveLocationRow",t.default=(0,i.default)((0,s.default)(m,m.CONCERNS))},ebfgabegga:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=E(n("ceffhbhahb")),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),i=E(n("dhbceejbjg")),l=E(n("bbchdeehff")),c=E(n("dhhfaeacef")),u=E(n("fifhbjiec")),s=E(n("cajbifjffe")),d=E(n("fffdgbfji")),f=n("dgfecega"),p=E(f),h=E(n("djibddbgic")),m=E(n("ihfccfgdf")),b=E(n("bfdcadbbif")),g=E(n("caffijjhc")),v=E(n("bcifhbgija"));function E(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _=500,j=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=y(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.state={style:{visibility:"hidden"}},a.onScroll=function(e){Math.abs(e.deltaY)>3&&a.onClose()},a.onClose=function(){if(!a.closing){a.closing=!0;var e=void 0;if(a.props.getZoomNode(function(t){e=t}),!e)return l.default.closeModalMedia();var t=a.refImage;if(t){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),o=r.top-n.top,i=r.left-n.left,c=e.clientWidth/t.clientWidth;(0,v.default)(t,{translateX:[i,0],translateY:[o,0],scale:[c,1]},{duration:200,easing:[.1,.82,.25,1]}).then(function(){l.default.closeModalMedia()})}}},a.onImageLoad=function(e){var t=e.target;a.setState({size:{width:t.naturalWidth,height:t.naturalHeight}},function(){a.props.getZoomNode(function(e){var n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),o=r.top-n.top,i={visibility:"hidden",transform:`translateX(${r.left-n.left}px) translateY(${o}px) scale(${e.clientWidth/t.clientWidth})`,transition:"transform 0s",borderRadius:void 0};a.props.animateBorderRadius&&(i.borderRadius="50%"),a.setState({style:i},function(){var e={transform:"translateX(0px) translateY(0px) scale(1)",transition:`transform ${_}ms cubic-bezier(.1,.82,.25,1)`};a.props.animateBorderRadius&&(e={transform:"translateX(0px) translateY(0px) scale(1)",borderRadius:"0%",transition:`transform ${_}ms cubic-bezier(.1,.82,.25,1),\n                                         border-radius ${_}ms cubic-bezier(.1,.82,.25,1)`}),a.setState({style:e})})})})},a.setRefImage=function(e){a.refImage=e},y(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"shouldComponentUpdate",value:function(e,t){return!!e.profilePicThumb.imgFull||(this.onClose(),!1)}},{key:"render",value:function(){var e=this.props,t=e.contact,n=e.profilePicThumb,a=void 0;return n.imgFull&&(a=o.createElement(s.default,{src:n.imgFull,hasPrivacyChecks:!0,onLoad:this.onImageLoad,className:h.default.profileViewerImg})),o.createElement(g.default,{displayName:"PhotoViewer",escapable:!0,requestDismiss:this.onClose},o.createElement("div",{className:(0,r.default)("overlay",h.default.container),onWheel:this.onScroll,onClick:this.onClose},o.createElement("div",{className:h.default.headerContainer},o.createElement("div",{className:h.default.profileThumb},o.createElement(i.default,{image:o.createElement(c.default,{id:t.id,size:40}),theme:"plain",primary:o.createElement(u.default,{text:t.formattedUser})})),o.createElement("div",{className:h.default.close},o.createElement(b.default,{name:"x-viewer",title:d.default.t(1161),onClick:this.onClose}))),o.createElement("div",{className:h.default.profileContainer,dir:"ltr"},o.createElement("div",{className:h.default.media},o.createElement(p.default,{type:f.FIT_TYPE.SCALE_DOWN,size:this.state.size},o.createElement("div",{className:h.default.profileViewer,"data-animate-profile-viewer":!0,ref:this.setRefImage,style:this.state.style},a))))))}}]),t}();j.CONCERNS={contact:["formattedUser","id"],profilePicThumb:["imgFull"]},j.displayName="PhotoViewerModal",t.default=(0,m.default)(j,j.CONCERNS)},ejfeeeaeg:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=n("dfdebdgdei"),i=z(n("bgfcjjddjf")),l=z(n("bbhjjecbjb")),c=z(n("ejegihaeh")),u=z(n("djbgihfhif")),s=z(n("dbdfbgehgj")),d=z(n("bbchdeehff")),f=z(n("ceeafeafie")),p=z(n("biddiiafgd")),h=z(n("bfhjgejice")),m=z(n("dhhfaeacef")),b=z(n("djcchigfih")),g=z(n("gejdcbjjd")),v=z(n("djbhiedbef")),E=z(n("cabhjigfgc")),y=n("dajffajabh"),_=z(y),j=z(n("fijafegab")),M=z(n("fifhbjiec")),C=z(n("bggeiidigb")),S=z(n("bjbdcigbdi")),P=z(n("jheedhagg")),O=n("dfhgeaeig"),w=z(n("cigbgdjabj")),k=z(n("djhbegbdaf")),N=z(n("eceadcicaf")),T=z(n("ebdahjichh")),R=z(n("bfajcggcdf")),A=z(n("bfbggcdbfb")),D=z(n("bfffgbbdch")),I=z(n("bhheahajjg")),L=z(n("ebfgabegga")),x=z(n("deabffecii")),G=z(n("bjbedjfe")),F=z(n("dadhidfcfe")),B=n("eagfdbhhhh"),U=n("dcbafbaejf"),V=z(n("ihfccfgdf")),W=z(n("ibeajfihb")),H=z(n("bfdcadbbif")),Y=z(n("eedjbihej")),q=z(n("cjcaccbiih")),K=z(n("djbfhebjhe"));function z(e){return e&&e.__esModule?e:{default:e}}var X=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.flatListController=new C.default,n.ProductCatalogSession=new x.default,n._init=function(){S.default.supportsFeature(S.default.F.QUERY_IDENTITY)&&(0,O.queryIdentity)(n.props.contact)},n.onBlocklistChange=function(){n.state.contactIsBlocked!==!!i.default.get(n.props.contact.id)&&n.setState({contactIsBlocked:!!i.default.get(n.props.contact.id)})},n.onDeleteChat=function(){var e=s.default.assertGet(n.props.contact.id);d.default.deleteOrExitChat(e)},n.onBlockContact=function(){var e=r.createElement(I.default,{contact:n.props.contact});d.default.openModal(r.createElement(p.default,{onOK:n.blockContact,okText:l10n.t(213),onCancel:function(){return d.default.closeModal()},cancelText:l10n.t(1156)},r.createElement(k.default,{id:215,params:{contact:e}})))},n.onReportSpam=function(){d.default.openModal(r.createElement(F.default,{isBusiness:n.props.contact.isBusiness,isGroupChat:!1,onReport:n.reportSpam,onReportBlockClear:n.reportSpamBlockClear,onCancel:function(){return d.default.closeModal()}}))},n.reportSpam=function(){var e=s.default.get(n.props.contact.id);e&&(0,U.sendSpamReport)(e),d.default.closeModal()},n.reportSpamBlockClear=function(){var e=s.default.get(n.props.contact.id);e&&(0,U.sendSpamBlockClear)(e),d.default.closeModal()},n.onUnblockContact=function(){var e=r.createElement(I.default,{contact:n.props.contact});d.default.openModal(r.createElement(p.default,{okText:l10n.t(1068),onOK:n.unblockContact,cancelText:l10n.t(1156),onCancel:function(){return d.default.closeModal()}},r.createElement(k.default,{id:1069,params:{contact:e}})))},n.blockContact=function(){(0,o.blockContact)(n.props.contact),d.default.closeModal()},n.unblockContact=function(){(0,o.unblockContact)(n.props.contact),d.default.closeModal()},n.onClose=function(){n.props.onClose?n.props.onClose():n.props.uim.uie.requestDismiss()},n.onViewPicture=function(e){if(n.canViewPicture){var t=e.target;d.default.openModalMedia(r.createElement(L.default,{contact:n.props.contact,profilePicThumb:n.props.contact.getProfilePicThumb(),animateBorderRadius:!0,getZoomNode:function(e){e(t)}}),{transition:"profile-viewer",uim:n.props.uim})}},n.onDetailImageLoad=function(){n.canViewPicture=!0},n.canViewPicture=!1,n.state={contactIsBlocked:!!i.default.get(e.contact.id)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),a(t,[{key:"componentDidMount",value:function(){this.props.listeners.add(i.default,"add remove reset sync",this.onBlocklistChange),this.props.listeners.uiIdle(this._init);var e=this.props.contact;e.businessProfile&&!e.businessProfile.stale&&e.businessCatalog&&c.default.findCarouselCatalog(e.id)}},{key:"shouldRenderCatalog",value:function(){var e=this.props.contact;return!!(e&&e.isBusiness&&e.businessProfile)&&!(!e.businessProfile.catalogStatus||!e.businessCatalog)}},{key:"renderProductCatalogSection",value:function(){if(!this.shouldRenderCatalog())return null;var e=this.props,t=e.contact,n=e.onProductCatalog,a=e.onProductDetail,o=c.default.get(t.id);return o?r.createElement(u.default,{onProductDetail:a,onProductCatalog:n,catalog:o,sessionId:this.ProductCatalogSession.toString(),entryPoint:A.default.CATALOG_ENTRY_POINT.CATALOG_ENTRY_POINT_PROFILE}):null}},{key:"render",value:function(){var e=this.props.contact,t=void 0,n=r.createElement(f.default,{contact:this.props.contact,onClose:this.onClose,flatListController:this.flatListController}),a=s.default.get(e.id);a&&(t=r.createElement(j.default,null,r.createElement(E.default,{a8nText:"li-delete-chat",icon:r.createElement(H.default,{name:"delete-danger"}),color:"danger",onClick:this.onDeleteChat},l10n.t(367))));var o=null;o=this.state.contactIsBlocked?r.createElement(j.default,null,r.createElement(E.default,{a8nText:"li-unblock",color:"success",icon:r.createElement(H.default,{name:"settings-blocked-success",directional:!0}),onClick:this.onUnblockContact},l10n.t(1068))):r.createElement(j.default,null,r.createElement(E.default,{a8nText:"li-block",icon:r.createElement(H.default,{name:"settings-blocked",directional:!0}),onClick:this.onBlockContact},l10n.t(213)));var i=r.createElement(j.default,null,r.createElement(E.default,{a8nText:"li-report-spam",color:"danger",icon:r.createElement(H.default,{name:"thumbs-down",directional:!0}),onClick:this.onReportSpam},e.isBusiness?l10n.t(930):l10n.t(933))),c=null;if(this.props.onMediaGallery&&a){var u=this.props.onMediaGallery,d=r.createElement(H.default,{name:"chevron-right-alt",directional:!0}),p=S.default.supportsFeature(S.default.F.LINK_DOC_GALLERY)?l10n.t(688):l10n.t(682);c=r.createElement(j.default,{a8nText:"section-media",title:p,titleOnClick:u,subtitle:d,theme:"padding"},r.createElement(R.default,{chat:a,mediaMsgs:a.getMediaMsgs()}))}var C=null;S.default.supportsFeature(S.default.F.LIVE_LOCATIONS)&&a&&(C=r.createElement(T.default,{chat:a,onClick:this.props.onLiveLocation}));var P=this.renderProductCatalogSection(),O=a&&a.mute.canMute()?r.createElement(D.default,{chat:a,mute:a.mute}):null,k=null;if(this.props.onStarred){var N=r.createElement(H.default,{name:"chevron-right-alt",directional:!0});k=r.createElement(g.default,{a8nText:"block-starred-messages",side:N,onClick:this.props.onStarred,border:!0},r.createElement(Y.default,{theme:"title"},l10n.t(299)))}var A=null,L=a&&a.getReceivedVCardMsgs();if(S.default.supportsFeature(S.default.F.INDEX_RECEIVED_VCARD)&&L&&L.length){var x=r.createElement(H.default,{name:"chevron-right-alt",directional:!0});A=r.createElement(g.default,{a8nText:"block-contact-card",side:x,onClick:this.props.onContactCard},r.createElement(Y.default,{theme:"title"},l10n.t(348,{_plural:L.length})))}var G=null;(O||k||A)&&(G=r.createElement(j.default,null,O,k,A,null));var F=r.createElement(g.default,{multiline:!0},r.createElement(Y.default,{theme:"title"},r.createElement(W.default,{id:e.id}))),U=r.createElement(g.default,null,r.createElement(B.SelectableSpan,{dir:"auto",selectable:!0},r.createElement(Y.default,{theme:"title"},(0,K.default)(e.id)))),V=r.createElement(j.default,{a8nText:"section-about-and-phone-number"},r.createElement("div",{className:h.default.titleAbout},r.createElement(Y.default,{theme:"section-title"},l10n.t(350))),F,U),z=a&&a.presence?r.createElement(q.default,{contact:e,presence:a.presence,chatstate:a.presence.chatstate,location:"info"}):null,X=e.showBusinessVname&&S.default.supportsFeature(S.default.F.VNAME_V_2)?r.createElement("div",{className:h.default.businessVname},r.createElement(M.default,{text:e.verifiedName,direction:"auto"}),r.createElement("div",{className:h.default.icon},r.createElement(H.default,{name:"psa-verified"}))):null,$=e.isBusiness&&e.businessProfile?r.createElement(l.default,{contact:e,businessProfile:e.businessProfile}):null,Q=!e.name&&e.notifyName?r.createElement("div",{className:h.default.nameSecondary},r.createElement(Y.default,{theme:"muted"},r.createElement(M.default,{className:h.default.screenName,direction:"auto",text:e.notifyName}))):null;return r.createElement(b.default,{key:"contact-info-modal"},r.createElement(_.default,{title:l10n.t(1162),type:y.DRAWER_HEADER_TYPE.SMALL,onCancel:this.onClose}),r.createElement(v.default,{flatListControllers:[this.flatListController]},r.createElement("div",{className:h.default.body},r.createElement(j.default,{theme:"padding-large"},r.createElement("div",{className:h.default.avatar},r.createElement(m.default,{id:e.id,size:m.default.Size.LARGE,loader:!0,onLoad:this.onDetailImageLoad,onClick:this.onViewPicture,quality:m.default.Quality.HIGH})),r.createElement(Y.default,{theme:"large"},r.createElement(I.default,{contact:e,selectable:!0,showBusinessCheckmark:!0})),Q,r.createElement("div",{className:h.default.nameSecondary},r.createElement(Y.default,{theme:"muted"},X),r.createElement(Y.default,{theme:"muted"},z)),r.createElement(w.default,{labels:e.labels})),$,C,P,c,G,V,null,n,o,i,t)))}}]),t}();X.CONCERNS={contact:["id","formattedName","formattedUser","formattedShortName","isBusiness","commonGroups","businessProfile","showBusinessVname","verifiedName","name","notifyName","labels","businessCatalog"]},X.displayName="ContactInfoDrawer",t.default=(0,P.default)((0,G.default)((0,N.default)((0,V.default)(X,X.CONCERNS))))},fbcdaahdd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),o=l(n("hdccjfbbg")),i=l(n("ihfccfgdf"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=a=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),a.contextEnabled=function(){var e=a.props,t=e.contextEnabled,n=e.contact;return null!=t&&t(n)},a.onContext=function(e){var t=a.props,n=t.onContext,r=t.contact;return n&&n(e,r)},c(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.contact,n=e.participant,a=e.onClick,i=e.contextMenu,l=e.isPendingParticipant;return r.createElement(o.default,{contact:t,admin:n.isAdmin,onClick:a,theme:"drawer-list",contextEnabled:this.contextEnabled,contextMenu:i,onContext:this.onContext,isPendingParticipant:l,showNotifyName:!0,waitIdle:!0})}}]),t}();u.CONCERNS={participant:["isAdmin"]},u.displayName="Participant",t.default=(0,i.default)(u,u.CONCERNS)},gecdhggfj:function(e,t){e.exports={header:"sw9Gc"}},gejdcbjjd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=c;var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n("ddhijeejag")),r=l(n("ceffhbhahb")),o=l(n("effbcehec")),i=l(n("igfejfjdb"));function l(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=e.side?a.createElement("div",{className:i.default.side},e.side):null,n=(0,r.default)(i.default.container,{[i.default.multiline]:e.multiline});return a.createElement("div",{"data-a8n":o.default.key(e.a8nText),className:n,role:e.onClick?"button":null,onClick:e.onClick},a.createElement("div",{className:i.default.block},a.createElement("div",{className:i.default.main},e.children),t))}c.displayName="DrawerBlock"},hjbhabfd:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setGroupDesc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";var d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:(0,r.genId)();var f=n&&n.trim();if(f===t.groupMetadata.desc)return Promise.reject(new l.ActionError);""===f&&(f=null);var p=(0,u.sendSetGroupDescription)(t.id,f,(0,s.default)(),t.groupMetadata.descId);var h=t.groupMetadata.desc;var m=new r.ActionType(l10n.t(59));var b=p.then(function(n){return new r.ActionType(l10n.t(61),l10n.t(158),function(){return e(t,h,d)})}).catch(i.ServerStatusCodeError,function(e){if(e.status>=400)return new r.ActionType(l10n.t(60))}).catch(function(n){return c.default.error("models:chat:setGroupDesc dropped")(n),new r.ActionType(l10n.t(60),l10n.t(154),function(){return e(t,f,d)})});o.default.openToast(a.createElement(r.ActionToast,{id:d,initialAction:m,pendingAction:b}));return p.then(function(e){e._duplicate||t.groupMetadata.set({desc:f||""})}).catch(i.ServerStatusCodeError,function(e){})}((0,d.unproxy)(e),t)};var a=p(n("ddhijeejag")),r=n("ccihhdchab"),o=f(n("bbchdeehff")),i=n("ddjgcfjicj"),l=p(n("cajijabhgb")),c=f(n("bdiiahhjbe")),u=n("babicefcfg"),s=f(n("cfejjfjhca")),d=n("bheafeifce");function f(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}},igfejfjdb:function(e,t){e.exports={container:"_3_-Si",block:"_2x2XP",main:"_2kUhl",side:"_88RDg",multiline:"_2sl9a"}},jfaihhdjc:function(e,t){e.exports={spinner:"DEUYy",wrapper:"_1cExZ"}},jgjiiajej:function(e,t){e.exports={contactBusinessInfo:"p33C-",contactBusinessInfoSpinner:"_36fM-",dataRow:"_3vFc6",businessHoursRow:"_3kv2_",businessHoursDay:"_6P5Pb",businessHoursHours:"_34Da3",businessHoursChevron:"_3p_LK",flipSvg:"_27mxm",dataRowIcon:"_1ZiXJ",dataRowText:"_4Hlm9",businessTitleText:"_3EgZq",businessMarker:"_2qzPO",verifiedLabel:"_2eJ_X",businessMap:"_1gqk2",address:"_1zJF4",link:"_2Kszz"}}});